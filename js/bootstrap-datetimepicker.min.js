!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var a=function(a,n){var r,i,o,s,d,l,p,c={},u=!0,f=!1,m=!1,h=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],w=["days","months","years","decades"],b=["top","bottom","auto"],g=["left","right","auto"],v=["default","top","bottom"],k={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},D={},C=function(){return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone},x=function(e){var a;return a=void 0===e||null===e?t():t.isDate(e)||t.isMoment(e)?t(e):C()?t.tz(e,l,n.useStrict,n.timeZone):t(e,l,n.useStrict),C()&&a.tz(n.timeZone),a},T=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==d.indexOf("Y");case"M":return-1!==d.indexOf("M");case"d":return-1!==d.toLowerCase().indexOf("d");case"h":case"H":return-1!==d.toLowerCase().indexOf("h");case"m":return-1!==d.indexOf("m");case"s":return-1!==d.indexOf("s");default:return!1}},M=function(){return T("h")||T("m")||T("s")},S=function(){return T("y")||T("M")||T("d")},O=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<i>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<i>").addClass(n.icons.next)))),a=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone()))]},P=function(){var t=e("<tr>"),a=e("<tr>"),r=e("<tr>");return T("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<i>").addClass(n.icons.down))))),T("m")&&(T("h")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<i>").addClass(n.icons.down))))),T("s")&&(T("m")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<i>").addClass(n.icons.down))))),s||(t.append(e("<td>").addClass("separator")),a.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,a,r]))},E=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[P()];return T("h")&&r.push(t),T("m")&&r.push(a),T("s")&&r.push(n),r},H=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<i>").addClass(n.icons.today)))),!n.sideBySide&&S()&&M()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<i>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<i>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<i>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},I=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),a=e("<div>").addClass("datepicker").append(O()),r=e("<div>").addClass("timepicker").append(E()),i=e("<ul>").addClass("list-unstyled"),o=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(H());return n.inline&&t.removeClass("dropdown-menu"),s&&t.addClass("usetwentyfour"),T("s")&&!s&&t.addClass("wider"),n.sideBySide&&S()&&M()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(o),t.append(e("<div>").addClass("row").append(a.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(o),t):("top"===n.toolbarPlacement&&i.append(o),S()&&i.append(e("<li>").addClass(n.collapse&&M()?"collapse show":"").append(a)),"default"===n.toolbarPlacement&&i.append(o),M()&&i.append(e("<li>").addClass(n.collapse&&S()?"collapse":"").append(r)),"bottom"===n.toolbarPlacement&&i.append(o),t.append(i))},Y=function(){var t,r=(f||a).position(),i=(f||a).offset(),o=n.widgetPositioning.vertical,s=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(m);else if(a.is("input"))t=a.after(m).parent();else{if(n.inline)return void(t=a.append(m));t=a,a.children().first().after(m)}if("auto"===o&&(o=i.top+1.5*m.height()>=e(window).height()+e(window).scrollTop()&&m.height()+a.outerHeight()<i.top?"top":"bottom"),"auto"===s&&(s=t.width()<i.left+m.outerWidth()/2&&i.left+m.outerWidth()>e(window).width()?"right":"left"),"top"===o?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===s?m.addClass("pull-right"):m.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");m.css({top:"top"===o?"auto":r.top+a.outerHeight(),bottom:"top"===o?t.outerHeight()-(t===a?0:r.top):"auto",left:"left"===s?t===a?0:r.left:"auto",right:"left"===s?"auto":t.outerWidth()-a.outerWidth()-(t===a?0:r.left)})},q=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||a.trigger(e)},B=function(e){"y"===e&&(e="YYYY"),q({type:"dp.update",change:e,viewDate:i.clone()})},j=function(e){m&&(e&&(p=Math.max(h,Math.min(3,p+e))),m.find(".datepicker > div").hide().filter(".datepicker-"+y[p].clsName).show())},A=function(){var t=e("<tr>"),a=i.clone().startOf("w").startOf("d");for(!0===n.calendarWeeks&&t.append(e("<th>").addClass("cw").text("#"));a.isBefore(i.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(a.format("dd"))),a.add(1,"d");m.find(".datepicker-days thead").append(t)},F=function(e){return!0===n.disabledDates[e.format("YYYY-MM-DD")]},L=function(e){return!0===n.enabledDates[e.format("YYYY-MM-DD")]},W=function(e){return!0===n.disabledHours[e.format("H")]},z=function(e){return!0===n.enabledHours[e.format("H")]},N=function(t,a){if(!t.isValid())return!1;if(n.disabledDates&&"d"===a&&F(t))return!1;if(n.enabledDates&&"d"===a&&!L(t))return!1;if(n.minDate&&t.isBefore(n.minDate,a))return!1;if(n.maxDate&&t.isAfter(n.maxDate,a))return!1;if(n.daysOfWeekDisabled&&"d"===a&&-1!==n.daysOfWeekDisabled.indexOf(t.day()))return!1;if(n.disabledHours&&("h"===a||"m"===a||"s"===a)&&W(t))return!1;if(n.enabledHours&&("h"===a||"m"===a||"s"===a)&&!z(t))return!1;if(n.disabledTimeIntervals&&("h"===a||"m"===a||"s"===a)){var r=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return r=!0,!1}),r)return!1}return!0},V=function(){for(var t=[],a=i.clone().startOf("y").startOf("d");a.isSame(i,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(a.format("MMM"))),a.add(1,"M");m.find(".datepicker-months td").empty().append(t)},Z=function(){var t=m.find(".datepicker-months"),a=t.find("th"),o=t.find("tbody").find("span");a.eq(0).find("span").attr("title",n.tooltips.prevYear),a.eq(1).attr("title",n.tooltips.selectYear),a.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),N(i.clone().subtract(1,"y"),"y")||a.eq(0).addClass("disabled"),a.eq(1).text(i.year()),N(i.clone().add(1,"y"),"y")||a.eq(2).addClass("disabled"),o.removeClass("active"),r.isSame(i,"y")&&!u&&o.eq(r.month()).addClass("active"),o.each(function(t){N(i.clone().month(t),"M")||e(this).addClass("disabled")})},R=function(){var e=m.find(".datepicker-years"),t=e.find("th"),a=i.clone().subtract(5,"y"),o=i.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(a,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(a.year()+"-"+o.year()),n.maxDate&&n.maxDate.isBefore(o,"y")&&t.eq(2).addClass("disabled");!a.isAfter(o,"y");)s+='<span data-action="selectYear" class="year'+(a.isSame(r,"y")&&!u?" active":"")+(N(a,"y")?"":" disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(s)},Q=function(){var e,a=m.find(".datepicker-decades"),o=a.find("th"),s=t({y:i.year()-i.year()%100-1}),d=s.clone().add(100,"y"),l=s.clone(),p=!1,c=!1,u="";for(o.eq(0).find("span").attr("title",n.tooltips.prevCentury),o.eq(2).find("span").attr("title",n.tooltips.nextCentury),a.find(".disabled").removeClass("disabled"),(s.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(s,"y"))&&o.eq(0).addClass("disabled"),o.eq(1).text(s.year()+"-"+d.year()),(s.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(d,"y"))&&o.eq(2).addClass("disabled");!s.isAfter(d,"y");)e=s.year()+12,p=n.minDate&&n.minDate.isAfter(s,"y")&&n.minDate.year()<=e,c=n.maxDate&&n.maxDate.isAfter(s,"y")&&n.maxDate.year()<=e,u+='<span data-action="selectDecade" class="decade'+(r.isAfter(s)&&r.year()<=e?" active":"")+(N(s,"y")||p||c?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");u+="<span></span><span></span><span></span>",a.find("td").html(u),o.eq(1).text(l.year()+1+"-"+s.year())},U=function(){var t,a,o,s=m.find(".datepicker-days"),d=s.find("th"),l=[],p=[];if(S()){for(d.eq(0).find("span").attr("title",n.tooltips.prevMonth),d.eq(1).attr("title",n.tooltips.selectMonth),d.eq(2).find("span").attr("title",n.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),d.eq(1).text(i.format(n.dayViewHeaderFormat)),N(i.clone().subtract(1,"M"),"M")||d.eq(0).addClass("disabled"),N(i.clone().add(1,"M"),"M")||d.eq(2).addClass("disabled"),t=i.clone().startOf("M").startOf("w").startOf("d"),o=0;o<42;o++)0===t.weekday()&&(a=e("<tr>"),n.calendarWeeks&&a.append('<td class="cw">'+t.week()+"</td>"),l.push(a)),p=["day"],t.isBefore(i,"M")&&p.push("old"),t.isAfter(i,"M")&&p.push("new"),t.isSame(r,"d")&&!u&&p.push("active"),N(t,"d")||p.push("disabled"),t.isSame(x(),"d")&&p.push("today"),0!==t.day()&&6!==t.day()||p.push("weekend"),q({type:"dp.classify",date:t,classNames:p}),a.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+p.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");s.find("tbody").empty().append(l),Z(),R(),Q()}},G=function(){var t=m.find(".timepicker-hours table"),a=i.clone().startOf("d"),n=[],r=e("<tr>");for(i.hour()>11&&!s&&a.hour(12);a.isSame(i,"d")&&(s||i.hour()<12&&a.hour()<12||i.hour()>11);)a.hour()%4==0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectHour" class="hour'+(N(a,"h")?"":" disabled")+'">'+a.format(s?"HH":"hh")+"</td>"),a.add(1,"h");t.empty().append(n)},J=function(){for(var t=m.find(".timepicker-minutes table"),a=i.clone().startOf("h"),r=[],o=e("<tr>"),s=1===n.stepping?5:n.stepping;i.isSame(a,"h");)a.minute()%(4*s)==0&&(o=e("<tr>"),r.push(o)),o.append('<td data-action="selectMinute" class="minute'+(N(a,"m")?"":" disabled")+'">'+a.format("mm")+"</td>"),a.add(s,"m");t.empty().append(r)},K=function(){for(var t=m.find(".timepicker-seconds table"),a=i.clone().startOf("m"),n=[],r=e("<tr>");i.isSame(a,"m");)a.second()%20==0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectSecond" class="second'+(N(a,"s")?"":" disabled")+'">'+a.format("ss")+"</td>"),a.add(5,"s");t.empty().append(n)},X=function(){var e,t,a=m.find(".timepicker span[data-time-component]");s||(e=m.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),N(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),a.filter("[data-time-component=hours]").text(r.format(s?"HH":"hh")),a.filter("[data-time-component=minutes]").text(r.format("mm")),a.filter("[data-time-component=seconds]").text(r.format("ss")),G(),J(),K()},$=function(){m&&(U(),X())},_=function(e){var t=u?null:r;if(!e)return u=!0,o.val(""),a.data("date",""),q({type:"dp.change",date:!1,oldDate:t}),void $();if(e=e.clone().locale(n.locale),C()&&e.tz(n.timeZone),1!==n.stepping)for(e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping).seconds(0);n.minDate&&e.isBefore(n.minDate);)e.add(n.stepping,"minutes");N(e)?(i=(r=e).clone(),o.val(r.format(d)),a.data("date",r.format(d)),u=!1,$(),q({type:"dp.change",date:r.clone(),oldDate:t})):(n.keepInvalid?q({type:"dp.change",date:e,oldDate:t}):o.val(u?"":r.format(d)),q({type:"dp.error",date:e,oldDate:t}))},ee=function(){var t=!1;return m?(m.find(".collapse").each(function(){var a=e(this).data("collapse");return!a||!a.transitioning||(t=!0,!1)}),t?c:(f&&f.hasClass("btn")&&f.toggleClass("active"),m.hide(),e(window).off("resize",Y),m.off("click","[data-action]"),m.off("mousedown",!1),m.remove(),m=!1,q({type:"dp.hide",date:r.clone()}),o.blur(),i=r.clone(),c)):c},te=function(){_(null)},ae=function(e){return void 0===n.parseInputDate?(!t.isMoment(e)||e instanceof Date)&&(e=x(e)):e=n.parseInputDate(e),e},ne={next:function(){var e=y[p].navFnc;i.add(y[p].navStep,e),U(),B(e)},previous:function(){var e=y[p].navFnc;i.subtract(y[p].navStep,e),U(),B(e)},pickerSwitch:function(){j(1)},selectMonth:function(t){var a=e(t.target).closest("tbody").find("span").index(e(t.target));i.month(a),p===h?(_(r.clone().year(i.year()).month(i.month())),n.inline||ee()):(j(-1),U()),B("M")},selectYear:function(t){var a=parseInt(e(t.target).text(),10)||0;i.year(a),p===h?(_(r.clone().year(i.year())),n.inline||ee()):(j(-1),U()),B("YYYY")},selectDecade:function(t){var a=parseInt(e(t.target).data("selection"),10)||0;i.year(a),p===h?(_(r.clone().year(i.year())),n.inline||ee()):(j(-1),U()),B("YYYY")},selectDay:function(t){var a=i.clone();e(t.target).is(".old")&&a.subtract(1,"M"),e(t.target).is(".new")&&a.add(1,"M"),_(a.date(parseInt(e(t.target).text(),10))),M()||n.keepOpen||n.inline||ee()},incrementHours:function(){var e=r.clone().add(1,"h");N(e,"h")&&_(e)},incrementMinutes:function(){var e=r.clone().add(n.stepping,"m");N(e,"m")&&_(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");N(e,"s")&&_(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");N(e,"h")&&_(e)},decrementMinutes:function(){var e=r.clone().subtract(n.stepping,"m");N(e,"m")&&_(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");N(e,"s")&&_(e)},togglePeriod:function(){_(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(t){var a,r=e(t.target),i=r.closest("ul"),o=i.find(".show"),s=i.find(".collapse:not(.show)");if(o&&o.length){if((a=o.data("collapse"))&&a.transitioning)return;o.collapse?(o.collapse("hide"),s.collapse("show")):(o.removeClass("show"),s.addClass("show")),r.is("i")?r.toggleClass(n.icons.time+" "+n.icons.date):r.find("i").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var a=parseInt(e(t.target).text(),10);s||(r.hours()>=12?12!==a&&(a+=12):12===a&&(a=0)),_(r.clone().hours(a)),ne.showPicker.call(c)},selectMinute:function(t){_(r.clone().minutes(parseInt(e(t.target).text(),10))),ne.showPicker.call(c)},selectSecond:function(t){_(r.clone().seconds(parseInt(e(t.target).text(),10))),ne.showPicker.call(c)},clear:te,today:function(){var e=x();N(e,"d")&&_(e)},close:ee},re=function(t){return!e(t.currentTarget).is(".disabled")&&(ne[e(t.currentTarget).data("action")].apply(c,arguments),!1)},ie=function(){var t,a={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return o.prop("disabled")||!n.ignoreReadonly&&o.prop("readonly")||m?c:(void 0!==o.val()&&0!==o.val().trim().length?_(ae(o.val().trim())):u&&n.useCurrent&&(n.inline||o.is("input")&&0===o.val().trim().length)&&(t=x(),"string"==typeof n.useCurrent&&(t=a[n.useCurrent](t)),_(t)),m=I(),A(),V(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),$(),j(),e(window).on("resize",Y),m.on("click","[data-action]",re),m.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),Y(),m.show(),n.focusOnShow&&!o.is(":focus")&&o.focus(),q({type:"dp.show"}),c)},oe=function(){return m?ee():ie()},se=function(e){var t,a,r,i,o=null,s=[],d={},l=e.which;D[l]="p";for(t in D)D.hasOwnProperty(t)&&"p"===D[t]&&(s.push(t),parseInt(t,10)!==l&&(d[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(r=t.split(" ")).length===s.length&&k[l]===r[r.length-1]){for(i=!0,a=r.length-2;a>=0;a--)if(!(k[r[a]]in d)){i=!1;break}if(i){o=n.keyBinds[t];break}}o&&(o.call(c,m),e.stopPropagation(),e.preventDefault())},de=function(e){D[e.which]="r",e.stopPropagation(),e.preventDefault()},le=function(t){var a=e(t.target).val().trim(),n=a?ae(a):null;return _(n),t.stopImmediatePropagation(),!1},pe=function(){o.off({change:le,blur:blur,keydown:se,keyup:de,focus:n.allowInputToggle?ee:""}),a.is("input")?o.off({focus:ie}):f&&(f.off("click",oe),f.off("mousedown",!1))},ce=function(t){var a={};return e.each(t,function(){var e=ae(this);e.isValid()&&(a[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(a).length&&a},ue=function(t){var a={};return e.each(t,function(){a[this]=!0}),!!Object.keys(a).length&&a},fe=function(){var e=n.format||"L LT";d=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(r.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),(l=n.extraFormats?n.extraFormats.slice():[]).indexOf(e)<0&&l.indexOf(d)<0&&l.push(d),s=d.toLowerCase().indexOf("a")<1&&d.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(h=2),T("M")&&(h=1),T("d")&&(h=0),p=Math.max(h,p),u||_(r)};if(c.destroy=function(){ee(),pe(),a.removeData("DateTimePicker"),a.removeData("date")},c.toggle=oe,c.show=ie,c.hide=ee,c.disable=function(){return ee(),f&&f.hasClass("btn")&&f.addClass("disabled"),o.prop("disabled",!0),c},c.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),o.prop("disabled",!1),c},c.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,c},c.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===c[e])throw new TypeError("option "+e+" is not recognized!");c[e](t)}),c},c.date=function(e){if(0===arguments.length)return u?null:r.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return _(null===e?null:ae(e)),c},c.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);return n.format=e,d&&fe(),c},c.timeZone=function(e){if(0===arguments.length)return n.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return n.timeZone=e,c},c.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,c},c.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,l&&fe(),c},c.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=ce(t),n.enabledDates=!1,$(),c},c.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,$(),c;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=ce(t),n.disabledDates=!1,$(),c},c.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,$(),c;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return(t=parseInt(t,10))>6||t<0||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!N(r,"d");){if(r.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}_(r)}return $(),c},c.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&!1===e)return n.maxDate=!1,$(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=ae(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(d));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&r.isAfter(e)&&_(n.maxDate),i.isAfter(t)&&(i=t.clone().subtract(n.stepping,"m")),$(),c},c.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&!1===e)return n.minDate=!1,$(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=ae(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(d));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&r.isBefore(e)&&_(n.minDate),i.isBefore(t)&&(i=t.clone().add(n.stepping,"m")),$(),c},c.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,c;"string"==typeof e&&(e="now"===e||"moment"===e?x():x(e));var t=ae(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!N(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===o.val().trim())&&_(n.defaultDate),c},c.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,r.locale(n.locale),i.locale(n.locale),d&&fe(),m&&(ee(),ie()),c},c.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,c)},c.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,c},c.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?c:(n.collapse=e,m&&(ee(),ie()),c)},c.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),m&&(ee(),ie()),c},c.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),m&&(ee(),ie()),c},c.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,c},c.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,m&&(ee(),ie()),c},c.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===w.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+w.join(", ")+") value");return n.viewMode=e,p=Math.max(w.indexOf(e),h),j(),c},c.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+v.join(", ")+") value");return n.toolbarPlacement=e,m&&(ee(),ie()),c},c.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===g.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+g.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===b.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return $(),c},c.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,$(),c},c.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,m&&(ee(),ie()),c},c.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,m&&(ee(),ie()),c},c.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,m&&(ee(),ie()),c},c.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,c},c.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,c},c.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,c},c.clear=function(){return te(),c},c.keyBinds=function(e){return 0===arguments.length?n.keyBinds:(n.keyBinds=e,c)},c.getMoment=function(e){return x(e)},c.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,c},c.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,c},c.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,c},c.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=e,c},c.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,c},c.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,c},c.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,$(),c},c.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=ue(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!N(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}_(r)}return $(),c},c.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,$(),c;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=ue(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!N(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}_(r)}return $(),c},c.viewDate=function(e){if(0===arguments.length)return i.clone();if(!e)return i=r.clone(),c;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return i=ae(e),B(),c},a.is("input"))o=a;else if(0===(o=a.find(n.datepickerInput)).length)o=a.find("input");else if(!o.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("input-group")&&(f=0===a.find(".datepickerbutton").length?a.find(".input-group-addon"):a.find(".datepickerbutton")),!n.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=x(),i=r.clone(),e.extend(!0,n,function(){var t,r={};return(t=a.is("input")||n.inline?a.data():a.find("input").data()).dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(n,function(e){var a="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[a]&&(r[e]=t[a])}),r}()),c.options(n),fe(),o.on({change:le,blur:n.debug?"":ee,keydown:se,keyup:de,focus:n.allowInputToggle?ie:""}),a.is("input")?o.on({focus:ie}):f&&(f.on("click",oe),f.on("mousedown",!1)),o.prop("disabled")&&c.disable(),o.is("input")&&0!==o.val().trim().length?_(ae(o.val().trim())):n.defaultDate&&void 0===o.attr("placeholder")&&_(n.defaultDate),n.inline&&ie(),c};return e.fn.datetimepicker=function(t){t=t||{};var n,r=Array.prototype.slice.call(arguments,1),i=!0,o=["destroy","hide","show","toggle"];if("object"==typeof t)return this.each(function(){var n,r=e(this);r.data("DateTimePicker")||(n=e.extend(!0,{},e.fn.datetimepicker.defaults,t),r.data("DateTimePicker",a(r,n)))});if("string"==typeof t)return this.each(function(){var a=e(this).data("DateTimePicker");if(!a)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');n=a[t].apply(a,r),i=n===a}),i||e.inArray(t,o)>-1?this:n;throw new TypeError("Invalid arguments for DateTimePicker: "+t)},e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-crosshairs",clear:"fa fa-trash-o",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcImpxdWVyeVwiLFwibW9tZW50XCJdLGUpO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMpbW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwianF1ZXJ5XCIpLHJlcXVpcmUoXCJtb21lbnRcIikpO2Vsc2V7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGpRdWVyeSl0aHJvd1wiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyIHJlcXVpcmVzIGpRdWVyeSB0byBiZSBsb2FkZWQgZmlyc3RcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgbW9tZW50KXRocm93XCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIgcmVxdWlyZXMgTW9tZW50LmpzIHRvIGJlIGxvYWRlZCBmaXJzdFwiO2UoalF1ZXJ5LG1vbWVudCl9fShmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2lmKCF0KXRocm93IG5ldyBFcnJvcihcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlciByZXF1aXJlcyBNb21lbnQuanMgdG8gYmUgbG9hZGVkIGZpcnN0XCIpO3ZhciBhPWZ1bmN0aW9uKGEsbil7dmFyIHIsaSxvLHMsZCxsLHAsYz17fSx1PSEwLGY9ITEsbT0hMSxoPTAseT1be2Nsc05hbWU6XCJkYXlzXCIsbmF2Rm5jOlwiTVwiLG5hdlN0ZXA6MX0se2Nsc05hbWU6XCJtb250aHNcIixuYXZGbmM6XCJ5XCIsbmF2U3RlcDoxfSx7Y2xzTmFtZTpcInllYXJzXCIsbmF2Rm5jOlwieVwiLG5hdlN0ZXA6MTB9LHtjbHNOYW1lOlwiZGVjYWRlc1wiLG5hdkZuYzpcInlcIixuYXZTdGVwOjEwMH1dLHc9W1wiZGF5c1wiLFwibW9udGhzXCIsXCJ5ZWFyc1wiLFwiZGVjYWRlc1wiXSxiPVtcInRvcFwiLFwiYm90dG9tXCIsXCJhdXRvXCJdLGc9W1wibGVmdFwiLFwicmlnaHRcIixcImF1dG9cIl0sdj1bXCJkZWZhdWx0XCIsXCJ0b3BcIixcImJvdHRvbVwiXSxrPXt1cDozOCwzODpcInVwXCIsZG93bjo0MCw0MDpcImRvd25cIixsZWZ0OjM3LDM3OlwibGVmdFwiLHJpZ2h0OjM5LDM5OlwicmlnaHRcIix0YWI6OSw5OlwidGFiXCIsZXNjYXBlOjI3LDI3OlwiZXNjYXBlXCIsZW50ZXI6MTMsMTM6XCJlbnRlclwiLHBhZ2VVcDozMywzMzpcInBhZ2VVcFwiLHBhZ2VEb3duOjM0LDM0OlwicGFnZURvd25cIixzaGlmdDoxNiwxNjpcInNoaWZ0XCIsY29udHJvbDoxNywxNzpcImNvbnRyb2xcIixzcGFjZTozMiwzMjpcInNwYWNlXCIsdDo4NCw4NDpcInRcIixkZWxldGU6NDYsNDY6XCJkZWxldGVcIn0sRD17fSxDPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXQudHomJnZvaWQgMCE9PW4udGltZVpvbmUmJm51bGwhPT1uLnRpbWVab25lJiZcIlwiIT09bi50aW1lWm9uZX0seD1mdW5jdGlvbihlKXt2YXIgYTtyZXR1cm4gYT12b2lkIDA9PT1lfHxudWxsPT09ZT90KCk6dC5pc0RhdGUoZSl8fHQuaXNNb21lbnQoZSk/dChlKTpDKCk/dC50eihlLGwsbi51c2VTdHJpY3Qsbi50aW1lWm9uZSk6dChlLGwsbi51c2VTdHJpY3QpLEMoKSYmYS50eihuLnRpbWVab25lKSxhfSxUPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHxlLmxlbmd0aD4xKXRocm93IG5ldyBUeXBlRXJyb3IoXCJpc0VuYWJsZWQgZXhwZWN0cyBhIHNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nIHBhcmFtZXRlclwiKTtzd2l0Y2goZSl7Y2FzZVwieVwiOnJldHVybi0xIT09ZC5pbmRleE9mKFwiWVwiKTtjYXNlXCJNXCI6cmV0dXJuLTEhPT1kLmluZGV4T2YoXCJNXCIpO2Nhc2VcImRcIjpyZXR1cm4tMSE9PWQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiZFwiKTtjYXNlXCJoXCI6Y2FzZVwiSFwiOnJldHVybi0xIT09ZC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJoXCIpO2Nhc2VcIm1cIjpyZXR1cm4tMSE9PWQuaW5kZXhPZihcIm1cIik7Y2FzZVwic1wiOnJldHVybi0xIT09ZC5pbmRleE9mKFwic1wiKTtkZWZhdWx0OnJldHVybiExfX0sTT1mdW5jdGlvbigpe3JldHVybiBUKFwiaFwiKXx8VChcIm1cIil8fFQoXCJzXCIpfSxTPWZ1bmN0aW9uKCl7cmV0dXJuIFQoXCJ5XCIpfHxUKFwiTVwiKXx8VChcImRcIil9LE89ZnVuY3Rpb24oKXt2YXIgdD1lKFwiPHRoZWFkPlwiKS5hcHBlbmQoZShcIjx0cj5cIikuYXBwZW5kKGUoXCI8dGg+XCIpLmFkZENsYXNzKFwicHJldlwiKS5hdHRyKFwiZGF0YS1hY3Rpb25cIixcInByZXZpb3VzXCIpLmFwcGVuZChlKFwiPGk+XCIpLmFkZENsYXNzKG4uaWNvbnMucHJldmlvdXMpKSkuYXBwZW5kKGUoXCI8dGg+XCIpLmFkZENsYXNzKFwicGlja2VyLXN3aXRjaFwiKS5hdHRyKFwiZGF0YS1hY3Rpb25cIixcInBpY2tlclN3aXRjaFwiKS5hdHRyKFwiY29sc3BhblwiLG4uY2FsZW5kYXJXZWVrcz9cIjZcIjpcIjVcIikpLmFwcGVuZChlKFwiPHRoPlwiKS5hZGRDbGFzcyhcIm5leHRcIikuYXR0cihcImRhdGEtYWN0aW9uXCIsXCJuZXh0XCIpLmFwcGVuZChlKFwiPGk+XCIpLmFkZENsYXNzKG4uaWNvbnMubmV4dCkpKSksYT1lKFwiPHRib2R5PlwiKS5hcHBlbmQoZShcIjx0cj5cIikuYXBwZW5kKGUoXCI8dGQ+XCIpLmF0dHIoXCJjb2xzcGFuXCIsbi5jYWxlbmRhcldlZWtzP1wiOFwiOlwiN1wiKSkpO3JldHVybltlKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJkYXRlcGlja2VyLWRheXNcIikuYXBwZW5kKGUoXCI8dGFibGU+XCIpLmFkZENsYXNzKFwidGFibGUtY29uZGVuc2VkXCIpLmFwcGVuZCh0KS5hcHBlbmQoZShcIjx0Ym9keT5cIikpKSxlKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJkYXRlcGlja2VyLW1vbnRoc1wiKS5hcHBlbmQoZShcIjx0YWJsZT5cIikuYWRkQ2xhc3MoXCJ0YWJsZS1jb25kZW5zZWRcIikuYXBwZW5kKHQuY2xvbmUoKSkuYXBwZW5kKGEuY2xvbmUoKSkpLGUoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImRhdGVwaWNrZXIteWVhcnNcIikuYXBwZW5kKGUoXCI8dGFibGU+XCIpLmFkZENsYXNzKFwidGFibGUtY29uZGVuc2VkXCIpLmFwcGVuZCh0LmNsb25lKCkpLmFwcGVuZChhLmNsb25lKCkpKSxlKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJkYXRlcGlja2VyLWRlY2FkZXNcIikuYXBwZW5kKGUoXCI8dGFibGU+XCIpLmFkZENsYXNzKFwidGFibGUtY29uZGVuc2VkXCIpLmFwcGVuZCh0LmNsb25lKCkpLmFwcGVuZChhLmNsb25lKCkpKV19LFA9ZnVuY3Rpb24oKXt2YXIgdD1lKFwiPHRyPlwiKSxhPWUoXCI8dHI+XCIpLHI9ZShcIjx0cj5cIik7cmV0dXJuIFQoXCJoXCIpJiYodC5hcHBlbmQoZShcIjx0ZD5cIikuYXBwZW5kKGUoXCI8YT5cIikuYXR0cih7aHJlZjpcIiNcIix0YWJpbmRleDpcIi0xXCIsdGl0bGU6bi50b29sdGlwcy5pbmNyZW1lbnRIb3VyfSkuYWRkQ2xhc3MoXCJidG5cIikuYXR0cihcImRhdGEtYWN0aW9uXCIsXCJpbmNyZW1lbnRIb3Vyc1wiKS5hcHBlbmQoZShcIjxpPlwiKS5hZGRDbGFzcyhuLmljb25zLnVwKSkpKSxhLmFwcGVuZChlKFwiPHRkPlwiKS5hcHBlbmQoZShcIjxzcGFuPlwiKS5hZGRDbGFzcyhcInRpbWVwaWNrZXItaG91clwiKS5hdHRyKHtcImRhdGEtdGltZS1jb21wb25lbnRcIjpcImhvdXJzXCIsdGl0bGU6bi50b29sdGlwcy5waWNrSG91cn0pLmF0dHIoXCJkYXRhLWFjdGlvblwiLFwic2hvd0hvdXJzXCIpKSksci5hcHBlbmQoZShcIjx0ZD5cIikuYXBwZW5kKGUoXCI8YT5cIikuYXR0cih7aHJlZjpcIiNcIix0YWJpbmRleDpcIi0xXCIsdGl0bGU6bi50b29sdGlwcy5kZWNyZW1lbnRIb3VyfSkuYWRkQ2xhc3MoXCJidG5cIikuYXR0cihcImRhdGEtYWN0aW9uXCIsXCJkZWNyZW1lbnRIb3Vyc1wiKS5hcHBlbmQoZShcIjxpPlwiKS5hZGRDbGFzcyhuLmljb25zLmRvd24pKSkpKSxUKFwibVwiKSYmKFQoXCJoXCIpJiYodC5hcHBlbmQoZShcIjx0ZD5cIikuYWRkQ2xhc3MoXCJzZXBhcmF0b3JcIikpLGEuYXBwZW5kKGUoXCI8dGQ+XCIpLmFkZENsYXNzKFwic2VwYXJhdG9yXCIpLmh0bWwoXCI6XCIpKSxyLmFwcGVuZChlKFwiPHRkPlwiKS5hZGRDbGFzcyhcInNlcGFyYXRvclwiKSkpLHQuYXBwZW5kKGUoXCI8dGQ+XCIpLmFwcGVuZChlKFwiPGE+XCIpLmF0dHIoe2hyZWY6XCIjXCIsdGFiaW5kZXg6XCItMVwiLHRpdGxlOm4udG9vbHRpcHMuaW5jcmVtZW50TWludXRlfSkuYWRkQ2xhc3MoXCJidG5cIikuYXR0cihcImRhdGEtYWN0aW9uXCIsXCJpbmNyZW1lbnRNaW51dGVzXCIpLmFwcGVuZChlKFwiPGk+XCIpLmFkZENsYXNzKG4uaWNvbnMudXApKSkpLGEuYXBwZW5kKGUoXCI8dGQ+XCIpLmFwcGVuZChlKFwiPHNwYW4+XCIpLmFkZENsYXNzKFwidGltZXBpY2tlci1taW51dGVcIikuYXR0cih7XCJkYXRhLXRpbWUtY29tcG9uZW50XCI6XCJtaW51dGVzXCIsdGl0bGU6bi50b29sdGlwcy5waWNrTWludXRlfSkuYXR0cihcImRhdGEtYWN0aW9uXCIsXCJzaG93TWludXRlc1wiKSkpLHIuYXBwZW5kKGUoXCI8dGQ+XCIpLmFwcGVuZChlKFwiPGE+XCIpLmF0dHIoe2hyZWY6XCIjXCIsdGFiaW5kZXg6XCItMVwiLHRpdGxlOm4udG9vbHRpcHMuZGVjcmVtZW50TWludXRlfSkuYWRkQ2xhc3MoXCJidG5cIikuYXR0cihcImRhdGEtYWN0aW9uXCIsXCJkZWNyZW1lbnRNaW51dGVzXCIpLmFwcGVuZChlKFwiPGk+XCIpLmFkZENsYXNzKG4uaWNvbnMuZG93bikpKSkpLFQoXCJzXCIpJiYoVChcIm1cIikmJih0LmFwcGVuZChlKFwiPHRkPlwiKS5hZGRDbGFzcyhcInNlcGFyYXRvclwiKSksYS5hcHBlbmQoZShcIjx0ZD5cIikuYWRkQ2xhc3MoXCJzZXBhcmF0b3JcIikuaHRtbChcIjpcIikpLHIuYXBwZW5kKGUoXCI8dGQ+XCIpLmFkZENsYXNzKFwic2VwYXJhdG9yXCIpKSksdC5hcHBlbmQoZShcIjx0ZD5cIikuYXBwZW5kKGUoXCI8YT5cIikuYXR0cih7aHJlZjpcIiNcIix0YWJpbmRleDpcIi0xXCIsdGl0bGU6bi50b29sdGlwcy5pbmNyZW1lbnRTZWNvbmR9KS5hZGRDbGFzcyhcImJ0blwiKS5hdHRyKFwiZGF0YS1hY3Rpb25cIixcImluY3JlbWVudFNlY29uZHNcIikuYXBwZW5kKGUoXCI8aT5cIikuYWRkQ2xhc3Mobi5pY29ucy51cCkpKSksYS5hcHBlbmQoZShcIjx0ZD5cIikuYXBwZW5kKGUoXCI8c3Bhbj5cIikuYWRkQ2xhc3MoXCJ0aW1lcGlja2VyLXNlY29uZFwiKS5hdHRyKHtcImRhdGEtdGltZS1jb21wb25lbnRcIjpcInNlY29uZHNcIix0aXRsZTpuLnRvb2x0aXBzLnBpY2tTZWNvbmR9KS5hdHRyKFwiZGF0YS1hY3Rpb25cIixcInNob3dTZWNvbmRzXCIpKSksci5hcHBlbmQoZShcIjx0ZD5cIikuYXBwZW5kKGUoXCI8YT5cIikuYXR0cih7aHJlZjpcIiNcIix0YWJpbmRleDpcIi0xXCIsdGl0bGU6bi50b29sdGlwcy5kZWNyZW1lbnRTZWNvbmR9KS5hZGRDbGFzcyhcImJ0blwiKS5hdHRyKFwiZGF0YS1hY3Rpb25cIixcImRlY3JlbWVudFNlY29uZHNcIikuYXBwZW5kKGUoXCI8aT5cIikuYWRkQ2xhc3Mobi5pY29ucy5kb3duKSkpKSksc3x8KHQuYXBwZW5kKGUoXCI8dGQ+XCIpLmFkZENsYXNzKFwic2VwYXJhdG9yXCIpKSxhLmFwcGVuZChlKFwiPHRkPlwiKS5hcHBlbmQoZShcIjxidXR0b24+XCIpLmFkZENsYXNzKFwiYnRuIGJ0bi1wcmltYXJ5XCIpLmF0dHIoe1wiZGF0YS1hY3Rpb25cIjpcInRvZ2dsZVBlcmlvZFwiLHRhYmluZGV4OlwiLTFcIix0aXRsZTpuLnRvb2x0aXBzLnRvZ2dsZVBlcmlvZH0pKSksci5hcHBlbmQoZShcIjx0ZD5cIikuYWRkQ2xhc3MoXCJzZXBhcmF0b3JcIikpKSxlKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJ0aW1lcGlja2VyLXBpY2tlclwiKS5hcHBlbmQoZShcIjx0YWJsZT5cIikuYWRkQ2xhc3MoXCJ0YWJsZS1jb25kZW5zZWRcIikuYXBwZW5kKFt0LGEscl0pKX0sRT1mdW5jdGlvbigpe3ZhciB0PWUoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcInRpbWVwaWNrZXItaG91cnNcIikuYXBwZW5kKGUoXCI8dGFibGU+XCIpLmFkZENsYXNzKFwidGFibGUtY29uZGVuc2VkXCIpKSxhPWUoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcInRpbWVwaWNrZXItbWludXRlc1wiKS5hcHBlbmQoZShcIjx0YWJsZT5cIikuYWRkQ2xhc3MoXCJ0YWJsZS1jb25kZW5zZWRcIikpLG49ZShcIjxkaXY+XCIpLmFkZENsYXNzKFwidGltZXBpY2tlci1zZWNvbmRzXCIpLmFwcGVuZChlKFwiPHRhYmxlPlwiKS5hZGRDbGFzcyhcInRhYmxlLWNvbmRlbnNlZFwiKSkscj1bUCgpXTtyZXR1cm4gVChcImhcIikmJnIucHVzaCh0KSxUKFwibVwiKSYmci5wdXNoKGEpLFQoXCJzXCIpJiZyLnB1c2gobikscn0sSD1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBuLnNob3dUb2RheUJ1dHRvbiYmdC5wdXNoKGUoXCI8dGQ+XCIpLmFwcGVuZChlKFwiPGE+XCIpLmF0dHIoe1wiZGF0YS1hY3Rpb25cIjpcInRvZGF5XCIsdGl0bGU6bi50b29sdGlwcy50b2RheX0pLmFwcGVuZChlKFwiPGk+XCIpLmFkZENsYXNzKG4uaWNvbnMudG9kYXkpKSkpLCFuLnNpZGVCeVNpZGUmJlMoKSYmTSgpJiZ0LnB1c2goZShcIjx0ZD5cIikuYXBwZW5kKGUoXCI8YT5cIikuYXR0cih7XCJkYXRhLWFjdGlvblwiOlwidG9nZ2xlUGlja2VyXCIsdGl0bGU6bi50b29sdGlwcy5zZWxlY3RUaW1lfSkuYXBwZW5kKGUoXCI8aT5cIikuYWRkQ2xhc3Mobi5pY29ucy50aW1lKSkpKSxuLnNob3dDbGVhciYmdC5wdXNoKGUoXCI8dGQ+XCIpLmFwcGVuZChlKFwiPGE+XCIpLmF0dHIoe1wiZGF0YS1hY3Rpb25cIjpcImNsZWFyXCIsdGl0bGU6bi50b29sdGlwcy5jbGVhcn0pLmFwcGVuZChlKFwiPGk+XCIpLmFkZENsYXNzKG4uaWNvbnMuY2xlYXIpKSkpLG4uc2hvd0Nsb3NlJiZ0LnB1c2goZShcIjx0ZD5cIikuYXBwZW5kKGUoXCI8YT5cIikuYXR0cih7XCJkYXRhLWFjdGlvblwiOlwiY2xvc2VcIix0aXRsZTpuLnRvb2x0aXBzLmNsb3NlfSkuYXBwZW5kKGUoXCI8aT5cIikuYWRkQ2xhc3Mobi5pY29ucy5jbG9zZSkpKSksZShcIjx0YWJsZT5cIikuYWRkQ2xhc3MoXCJ0YWJsZS1jb25kZW5zZWRcIikuYXBwZW5kKGUoXCI8dGJvZHk+XCIpLmFwcGVuZChlKFwiPHRyPlwiKS5hcHBlbmQodCkpKX0sST1mdW5jdGlvbigpe3ZhciB0PWUoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlci13aWRnZXQgZHJvcGRvd24tbWVudVwiKSxhPWUoXCI8ZGl2PlwiKS5hZGRDbGFzcyhcImRhdGVwaWNrZXJcIikuYXBwZW5kKE8oKSkscj1lKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJ0aW1lcGlja2VyXCIpLmFwcGVuZChFKCkpLGk9ZShcIjx1bD5cIikuYWRkQ2xhc3MoXCJsaXN0LXVuc3R5bGVkXCIpLG89ZShcIjxsaT5cIikuYWRkQ2xhc3MoXCJwaWNrZXItc3dpdGNoXCIrKG4uY29sbGFwc2U/XCIgYWNjb3JkaW9uLXRvZ2dsZVwiOlwiXCIpKS5hcHBlbmQoSCgpKTtyZXR1cm4gbi5pbmxpbmUmJnQucmVtb3ZlQ2xhc3MoXCJkcm9wZG93bi1tZW51XCIpLHMmJnQuYWRkQ2xhc3MoXCJ1c2V0d2VudHlmb3VyXCIpLFQoXCJzXCIpJiYhcyYmdC5hZGRDbGFzcyhcIndpZGVyXCIpLG4uc2lkZUJ5U2lkZSYmUygpJiZNKCk/KHQuYWRkQ2xhc3MoXCJ0aW1lcGlja2VyLXNic1wiKSxcInRvcFwiPT09bi50b29sYmFyUGxhY2VtZW50JiZ0LmFwcGVuZChvKSx0LmFwcGVuZChlKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJyb3dcIikuYXBwZW5kKGEuYWRkQ2xhc3MoXCJjb2wtbWQtNlwiKSkuYXBwZW5kKHIuYWRkQ2xhc3MoXCJjb2wtbWQtNlwiKSkpLFwiYm90dG9tXCI9PT1uLnRvb2xiYXJQbGFjZW1lbnQmJnQuYXBwZW5kKG8pLHQpOihcInRvcFwiPT09bi50b29sYmFyUGxhY2VtZW50JiZpLmFwcGVuZChvKSxTKCkmJmkuYXBwZW5kKGUoXCI8bGk+XCIpLmFkZENsYXNzKG4uY29sbGFwc2UmJk0oKT9cImNvbGxhcHNlIHNob3dcIjpcIlwiKS5hcHBlbmQoYSkpLFwiZGVmYXVsdFwiPT09bi50b29sYmFyUGxhY2VtZW50JiZpLmFwcGVuZChvKSxNKCkmJmkuYXBwZW5kKGUoXCI8bGk+XCIpLmFkZENsYXNzKG4uY29sbGFwc2UmJlMoKT9cImNvbGxhcHNlXCI6XCJcIikuYXBwZW5kKHIpKSxcImJvdHRvbVwiPT09bi50b29sYmFyUGxhY2VtZW50JiZpLmFwcGVuZChvKSx0LmFwcGVuZChpKSl9LFk9ZnVuY3Rpb24oKXt2YXIgdCxyPShmfHxhKS5wb3NpdGlvbigpLGk9KGZ8fGEpLm9mZnNldCgpLG89bi53aWRnZXRQb3NpdGlvbmluZy52ZXJ0aWNhbCxzPW4ud2lkZ2V0UG9zaXRpb25pbmcuaG9yaXpvbnRhbDtpZihuLndpZGdldFBhcmVudCl0PW4ud2lkZ2V0UGFyZW50LmFwcGVuZChtKTtlbHNlIGlmKGEuaXMoXCJpbnB1dFwiKSl0PWEuYWZ0ZXIobSkucGFyZW50KCk7ZWxzZXtpZihuLmlubGluZSlyZXR1cm4gdm9pZCh0PWEuYXBwZW5kKG0pKTt0PWEsYS5jaGlsZHJlbigpLmZpcnN0KCkuYWZ0ZXIobSl9aWYoXCJhdXRvXCI9PT1vJiYobz1pLnRvcCsxLjUqbS5oZWlnaHQoKT49ZSh3aW5kb3cpLmhlaWdodCgpK2Uod2luZG93KS5zY3JvbGxUb3AoKSYmbS5oZWlnaHQoKSthLm91dGVySGVpZ2h0KCk8aS50b3A/XCJ0b3BcIjpcImJvdHRvbVwiKSxcImF1dG9cIj09PXMmJihzPXQud2lkdGgoKTxpLmxlZnQrbS5vdXRlcldpZHRoKCkvMiYmaS5sZWZ0K20ub3V0ZXJXaWR0aCgpPmUod2luZG93KS53aWR0aCgpP1wicmlnaHRcIjpcImxlZnRcIiksXCJ0b3BcIj09PW8/bS5hZGRDbGFzcyhcInRvcFwiKS5yZW1vdmVDbGFzcyhcImJvdHRvbVwiKTptLmFkZENsYXNzKFwiYm90dG9tXCIpLnJlbW92ZUNsYXNzKFwidG9wXCIpLFwicmlnaHRcIj09PXM/bS5hZGRDbGFzcyhcInB1bGwtcmlnaHRcIik6bS5yZW1vdmVDbGFzcyhcInB1bGwtcmlnaHRcIiksXCJzdGF0aWNcIj09PXQuY3NzKFwicG9zaXRpb25cIikmJih0PXQucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVyblwic3RhdGljXCIhPT1lKHRoaXMpLmNzcyhcInBvc2l0aW9uXCIpfSkuZmlyc3QoKSksMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImRhdGV0aW1lcGlja2VyIGNvbXBvbmVudCBzaG91bGQgYmUgcGxhY2VkIHdpdGhpbiBhIG5vbi1zdGF0aWMgcG9zaXRpb25lZCBjb250YWluZXJcIik7bS5jc3Moe3RvcDpcInRvcFwiPT09bz9cImF1dG9cIjpyLnRvcCthLm91dGVySGVpZ2h0KCksYm90dG9tOlwidG9wXCI9PT1vP3Qub3V0ZXJIZWlnaHQoKS0odD09PWE/MDpyLnRvcCk6XCJhdXRvXCIsbGVmdDpcImxlZnRcIj09PXM/dD09PWE/MDpyLmxlZnQ6XCJhdXRvXCIscmlnaHQ6XCJsZWZ0XCI9PT1zP1wiYXV0b1wiOnQub3V0ZXJXaWR0aCgpLWEub3V0ZXJXaWR0aCgpLSh0PT09YT8wOnIubGVmdCl9KX0scT1mdW5jdGlvbihlKXtcImRwLmNoYW5nZVwiPT09ZS50eXBlJiYoZS5kYXRlJiZlLmRhdGUuaXNTYW1lKGUub2xkRGF0ZSl8fCFlLmRhdGUmJiFlLm9sZERhdGUpfHxhLnRyaWdnZXIoZSl9LEI9ZnVuY3Rpb24oZSl7XCJ5XCI9PT1lJiYoZT1cIllZWVlcIikscSh7dHlwZTpcImRwLnVwZGF0ZVwiLGNoYW5nZTplLHZpZXdEYXRlOmkuY2xvbmUoKX0pfSxqPWZ1bmN0aW9uKGUpe20mJihlJiYocD1NYXRoLm1heChoLE1hdGgubWluKDMscCtlKSkpLG0uZmluZChcIi5kYXRlcGlja2VyID4gZGl2XCIpLmhpZGUoKS5maWx0ZXIoXCIuZGF0ZXBpY2tlci1cIit5W3BdLmNsc05hbWUpLnNob3coKSl9LEE9ZnVuY3Rpb24oKXt2YXIgdD1lKFwiPHRyPlwiKSxhPWkuY2xvbmUoKS5zdGFydE9mKFwid1wiKS5zdGFydE9mKFwiZFwiKTtmb3IoITA9PT1uLmNhbGVuZGFyV2Vla3MmJnQuYXBwZW5kKGUoXCI8dGg+XCIpLmFkZENsYXNzKFwiY3dcIikudGV4dChcIiNcIikpO2EuaXNCZWZvcmUoaS5jbG9uZSgpLmVuZE9mKFwid1wiKSk7KXQuYXBwZW5kKGUoXCI8dGg+XCIpLmFkZENsYXNzKFwiZG93XCIpLnRleHQoYS5mb3JtYXQoXCJkZFwiKSkpLGEuYWRkKDEsXCJkXCIpO20uZmluZChcIi5kYXRlcGlja2VyLWRheXMgdGhlYWRcIikuYXBwZW5kKHQpfSxGPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09bi5kaXNhYmxlZERhdGVzW2UuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKV19LEw9ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1uLmVuYWJsZWREYXRlc1tlLmZvcm1hdChcIllZWVktTU0tRERcIildfSxXPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09bi5kaXNhYmxlZEhvdXJzW2UuZm9ybWF0KFwiSFwiKV19LHo9ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1uLmVuYWJsZWRIb3Vyc1tlLmZvcm1hdChcIkhcIildfSxOPWZ1bmN0aW9uKHQsYSl7aWYoIXQuaXNWYWxpZCgpKXJldHVybiExO2lmKG4uZGlzYWJsZWREYXRlcyYmXCJkXCI9PT1hJiZGKHQpKXJldHVybiExO2lmKG4uZW5hYmxlZERhdGVzJiZcImRcIj09PWEmJiFMKHQpKXJldHVybiExO2lmKG4ubWluRGF0ZSYmdC5pc0JlZm9yZShuLm1pbkRhdGUsYSkpcmV0dXJuITE7aWYobi5tYXhEYXRlJiZ0LmlzQWZ0ZXIobi5tYXhEYXRlLGEpKXJldHVybiExO2lmKG4uZGF5c09mV2Vla0Rpc2FibGVkJiZcImRcIj09PWEmJi0xIT09bi5kYXlzT2ZXZWVrRGlzYWJsZWQuaW5kZXhPZih0LmRheSgpKSlyZXR1cm4hMTtpZihuLmRpc2FibGVkSG91cnMmJihcImhcIj09PWF8fFwibVwiPT09YXx8XCJzXCI9PT1hKSYmVyh0KSlyZXR1cm4hMTtpZihuLmVuYWJsZWRIb3VycyYmKFwiaFwiPT09YXx8XCJtXCI9PT1hfHxcInNcIj09PWEpJiYheih0KSlyZXR1cm4hMTtpZihuLmRpc2FibGVkVGltZUludGVydmFscyYmKFwiaFwiPT09YXx8XCJtXCI9PT1hfHxcInNcIj09PWEpKXt2YXIgcj0hMTtpZihlLmVhY2gobi5kaXNhYmxlZFRpbWVJbnRlcnZhbHMsZnVuY3Rpb24oKXtpZih0LmlzQmV0d2Vlbih0aGlzWzBdLHRoaXNbMV0pKXJldHVybiByPSEwLCExfSkscilyZXR1cm4hMX1yZXR1cm4hMH0sVj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxhPWkuY2xvbmUoKS5zdGFydE9mKFwieVwiKS5zdGFydE9mKFwiZFwiKTthLmlzU2FtZShpLFwieVwiKTspdC5wdXNoKGUoXCI8c3Bhbj5cIikuYXR0cihcImRhdGEtYWN0aW9uXCIsXCJzZWxlY3RNb250aFwiKS5hZGRDbGFzcyhcIm1vbnRoXCIpLnRleHQoYS5mb3JtYXQoXCJNTU1cIikpKSxhLmFkZCgxLFwiTVwiKTttLmZpbmQoXCIuZGF0ZXBpY2tlci1tb250aHMgdGRcIikuZW1wdHkoKS5hcHBlbmQodCl9LFo9ZnVuY3Rpb24oKXt2YXIgdD1tLmZpbmQoXCIuZGF0ZXBpY2tlci1tb250aHNcIiksYT10LmZpbmQoXCJ0aFwiKSxvPXQuZmluZChcInRib2R5XCIpLmZpbmQoXCJzcGFuXCIpO2EuZXEoMCkuZmluZChcInNwYW5cIikuYXR0cihcInRpdGxlXCIsbi50b29sdGlwcy5wcmV2WWVhciksYS5lcSgxKS5hdHRyKFwidGl0bGVcIixuLnRvb2x0aXBzLnNlbGVjdFllYXIpLGEuZXEoMikuZmluZChcInNwYW5cIikuYXR0cihcInRpdGxlXCIsbi50b29sdGlwcy5uZXh0WWVhciksdC5maW5kKFwiLmRpc2FibGVkXCIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIiksTihpLmNsb25lKCkuc3VidHJhY3QoMSxcInlcIiksXCJ5XCIpfHxhLmVxKDApLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksYS5lcSgxKS50ZXh0KGkueWVhcigpKSxOKGkuY2xvbmUoKS5hZGQoMSxcInlcIiksXCJ5XCIpfHxhLmVxKDIpLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksby5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKSxyLmlzU2FtZShpLFwieVwiKSYmIXUmJm8uZXEoci5tb250aCgpKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSxvLmVhY2goZnVuY3Rpb24odCl7TihpLmNsb25lKCkubW9udGgodCksXCJNXCIpfHxlKHRoaXMpLmFkZENsYXNzKFwiZGlzYWJsZWRcIil9KX0sUj1mdW5jdGlvbigpe3ZhciBlPW0uZmluZChcIi5kYXRlcGlja2VyLXllYXJzXCIpLHQ9ZS5maW5kKFwidGhcIiksYT1pLmNsb25lKCkuc3VidHJhY3QoNSxcInlcIiksbz1pLmNsb25lKCkuYWRkKDYsXCJ5XCIpLHM9XCJcIjtmb3IodC5lcSgwKS5maW5kKFwic3BhblwiKS5hdHRyKFwidGl0bGVcIixuLnRvb2x0aXBzLnByZXZEZWNhZGUpLHQuZXEoMSkuYXR0cihcInRpdGxlXCIsbi50b29sdGlwcy5zZWxlY3REZWNhZGUpLHQuZXEoMikuZmluZChcInNwYW5cIikuYXR0cihcInRpdGxlXCIsbi50b29sdGlwcy5uZXh0RGVjYWRlKSxlLmZpbmQoXCIuZGlzYWJsZWRcIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKSxuLm1pbkRhdGUmJm4ubWluRGF0ZS5pc0FmdGVyKGEsXCJ5XCIpJiZ0LmVxKDApLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksdC5lcSgxKS50ZXh0KGEueWVhcigpK1wiLVwiK28ueWVhcigpKSxuLm1heERhdGUmJm4ubWF4RGF0ZS5pc0JlZm9yZShvLFwieVwiKSYmdC5lcSgyKS5hZGRDbGFzcyhcImRpc2FibGVkXCIpOyFhLmlzQWZ0ZXIobyxcInlcIik7KXMrPSc8c3BhbiBkYXRhLWFjdGlvbj1cInNlbGVjdFllYXJcIiBjbGFzcz1cInllYXInKyhhLmlzU2FtZShyLFwieVwiKSYmIXU/XCIgYWN0aXZlXCI6XCJcIikrKE4oYSxcInlcIik/XCJcIjpcIiBkaXNhYmxlZFwiKSsnXCI+JythLnllYXIoKStcIjwvc3Bhbj5cIixhLmFkZCgxLFwieVwiKTtlLmZpbmQoXCJ0ZFwiKS5odG1sKHMpfSxRPWZ1bmN0aW9uKCl7dmFyIGUsYT1tLmZpbmQoXCIuZGF0ZXBpY2tlci1kZWNhZGVzXCIpLG89YS5maW5kKFwidGhcIikscz10KHt5OmkueWVhcigpLWkueWVhcigpJTEwMC0xfSksZD1zLmNsb25lKCkuYWRkKDEwMCxcInlcIiksbD1zLmNsb25lKCkscD0hMSxjPSExLHU9XCJcIjtmb3Ioby5lcSgwKS5maW5kKFwic3BhblwiKS5hdHRyKFwidGl0bGVcIixuLnRvb2x0aXBzLnByZXZDZW50dXJ5KSxvLmVxKDIpLmZpbmQoXCJzcGFuXCIpLmF0dHIoXCJ0aXRsZVwiLG4udG9vbHRpcHMubmV4dENlbnR1cnkpLGEuZmluZChcIi5kaXNhYmxlZFwiKS5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLChzLmlzU2FtZSh0KHt5OjE5MDB9KSl8fG4ubWluRGF0ZSYmbi5taW5EYXRlLmlzQWZ0ZXIocyxcInlcIikpJiZvLmVxKDApLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksby5lcSgxKS50ZXh0KHMueWVhcigpK1wiLVwiK2QueWVhcigpKSwocy5pc1NhbWUodCh7eToyZTN9KSl8fG4ubWF4RGF0ZSYmbi5tYXhEYXRlLmlzQmVmb3JlKGQsXCJ5XCIpKSYmby5lcSgyKS5hZGRDbGFzcyhcImRpc2FibGVkXCIpOyFzLmlzQWZ0ZXIoZCxcInlcIik7KWU9cy55ZWFyKCkrMTIscD1uLm1pbkRhdGUmJm4ubWluRGF0ZS5pc0FmdGVyKHMsXCJ5XCIpJiZuLm1pbkRhdGUueWVhcigpPD1lLGM9bi5tYXhEYXRlJiZuLm1heERhdGUuaXNBZnRlcihzLFwieVwiKSYmbi5tYXhEYXRlLnllYXIoKTw9ZSx1Kz0nPHNwYW4gZGF0YS1hY3Rpb249XCJzZWxlY3REZWNhZGVcIiBjbGFzcz1cImRlY2FkZScrKHIuaXNBZnRlcihzKSYmci55ZWFyKCk8PWU/XCIgYWN0aXZlXCI6XCJcIikrKE4ocyxcInlcIil8fHB8fGM/XCJcIjpcIiBkaXNhYmxlZFwiKSsnXCIgZGF0YS1zZWxlY3Rpb249XCInKyhzLnllYXIoKSs2KSsnXCI+Jysocy55ZWFyKCkrMSkrXCIgLSBcIisocy55ZWFyKCkrMTIpK1wiPC9zcGFuPlwiLHMuYWRkKDEyLFwieVwiKTt1Kz1cIjxzcGFuPjwvc3Bhbj48c3Bhbj48L3NwYW4+PHNwYW4+PC9zcGFuPlwiLGEuZmluZChcInRkXCIpLmh0bWwodSksby5lcSgxKS50ZXh0KGwueWVhcigpKzErXCItXCIrcy55ZWFyKCkpfSxVPWZ1bmN0aW9uKCl7dmFyIHQsYSxvLHM9bS5maW5kKFwiLmRhdGVwaWNrZXItZGF5c1wiKSxkPXMuZmluZChcInRoXCIpLGw9W10scD1bXTtpZihTKCkpe2ZvcihkLmVxKDApLmZpbmQoXCJzcGFuXCIpLmF0dHIoXCJ0aXRsZVwiLG4udG9vbHRpcHMucHJldk1vbnRoKSxkLmVxKDEpLmF0dHIoXCJ0aXRsZVwiLG4udG9vbHRpcHMuc2VsZWN0TW9udGgpLGQuZXEoMikuZmluZChcInNwYW5cIikuYXR0cihcInRpdGxlXCIsbi50b29sdGlwcy5uZXh0TW9udGgpLHMuZmluZChcIi5kaXNhYmxlZFwiKS5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLGQuZXEoMSkudGV4dChpLmZvcm1hdChuLmRheVZpZXdIZWFkZXJGb3JtYXQpKSxOKGkuY2xvbmUoKS5zdWJ0cmFjdCgxLFwiTVwiKSxcIk1cIil8fGQuZXEoMCkuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSxOKGkuY2xvbmUoKS5hZGQoMSxcIk1cIiksXCJNXCIpfHxkLmVxKDIpLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksdD1pLmNsb25lKCkuc3RhcnRPZihcIk1cIikuc3RhcnRPZihcIndcIikuc3RhcnRPZihcImRcIiksbz0wO288NDI7bysrKTA9PT10LndlZWtkYXkoKSYmKGE9ZShcIjx0cj5cIiksbi5jYWxlbmRhcldlZWtzJiZhLmFwcGVuZCgnPHRkIGNsYXNzPVwiY3dcIj4nK3Qud2VlaygpK1wiPC90ZD5cIiksbC5wdXNoKGEpKSxwPVtcImRheVwiXSx0LmlzQmVmb3JlKGksXCJNXCIpJiZwLnB1c2goXCJvbGRcIiksdC5pc0FmdGVyKGksXCJNXCIpJiZwLnB1c2goXCJuZXdcIiksdC5pc1NhbWUocixcImRcIikmJiF1JiZwLnB1c2goXCJhY3RpdmVcIiksTih0LFwiZFwiKXx8cC5wdXNoKFwiZGlzYWJsZWRcIiksdC5pc1NhbWUoeCgpLFwiZFwiKSYmcC5wdXNoKFwidG9kYXlcIiksMCE9PXQuZGF5KCkmJjYhPT10LmRheSgpfHxwLnB1c2goXCJ3ZWVrZW5kXCIpLHEoe3R5cGU6XCJkcC5jbGFzc2lmeVwiLGRhdGU6dCxjbGFzc05hbWVzOnB9KSxhLmFwcGVuZCgnPHRkIGRhdGEtYWN0aW9uPVwic2VsZWN0RGF5XCIgZGF0YS1kYXk9XCInK3QuZm9ybWF0KFwiTFwiKSsnXCIgY2xhc3M9XCInK3Auam9pbihcIiBcIikrJ1wiPicrdC5kYXRlKCkrXCI8L3RkPlwiKSx0LmFkZCgxLFwiZFwiKTtzLmZpbmQoXCJ0Ym9keVwiKS5lbXB0eSgpLmFwcGVuZChsKSxaKCksUigpLFEoKX19LEc9ZnVuY3Rpb24oKXt2YXIgdD1tLmZpbmQoXCIudGltZXBpY2tlci1ob3VycyB0YWJsZVwiKSxhPWkuY2xvbmUoKS5zdGFydE9mKFwiZFwiKSxuPVtdLHI9ZShcIjx0cj5cIik7Zm9yKGkuaG91cigpPjExJiYhcyYmYS5ob3VyKDEyKTthLmlzU2FtZShpLFwiZFwiKSYmKHN8fGkuaG91cigpPDEyJiZhLmhvdXIoKTwxMnx8aS5ob3VyKCk+MTEpOylhLmhvdXIoKSU0PT0wJiYocj1lKFwiPHRyPlwiKSxuLnB1c2gocikpLHIuYXBwZW5kKCc8dGQgZGF0YS1hY3Rpb249XCJzZWxlY3RIb3VyXCIgY2xhc3M9XCJob3VyJysoTihhLFwiaFwiKT9cIlwiOlwiIGRpc2FibGVkXCIpKydcIj4nK2EuZm9ybWF0KHM/XCJISFwiOlwiaGhcIikrXCI8L3RkPlwiKSxhLmFkZCgxLFwiaFwiKTt0LmVtcHR5KCkuYXBwZW5kKG4pfSxKPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW0uZmluZChcIi50aW1lcGlja2VyLW1pbnV0ZXMgdGFibGVcIiksYT1pLmNsb25lKCkuc3RhcnRPZihcImhcIikscj1bXSxvPWUoXCI8dHI+XCIpLHM9MT09PW4uc3RlcHBpbmc/NTpuLnN0ZXBwaW5nO2kuaXNTYW1lKGEsXCJoXCIpOylhLm1pbnV0ZSgpJSg0KnMpPT0wJiYobz1lKFwiPHRyPlwiKSxyLnB1c2gobykpLG8uYXBwZW5kKCc8dGQgZGF0YS1hY3Rpb249XCJzZWxlY3RNaW51dGVcIiBjbGFzcz1cIm1pbnV0ZScrKE4oYSxcIm1cIik/XCJcIjpcIiBkaXNhYmxlZFwiKSsnXCI+JythLmZvcm1hdChcIm1tXCIpK1wiPC90ZD5cIiksYS5hZGQocyxcIm1cIik7dC5lbXB0eSgpLmFwcGVuZChyKX0sSz1mdW5jdGlvbigpe2Zvcih2YXIgdD1tLmZpbmQoXCIudGltZXBpY2tlci1zZWNvbmRzIHRhYmxlXCIpLGE9aS5jbG9uZSgpLnN0YXJ0T2YoXCJtXCIpLG49W10scj1lKFwiPHRyPlwiKTtpLmlzU2FtZShhLFwibVwiKTspYS5zZWNvbmQoKSUyMD09MCYmKHI9ZShcIjx0cj5cIiksbi5wdXNoKHIpKSxyLmFwcGVuZCgnPHRkIGRhdGEtYWN0aW9uPVwic2VsZWN0U2Vjb25kXCIgY2xhc3M9XCJzZWNvbmQnKyhOKGEsXCJzXCIpP1wiXCI6XCIgZGlzYWJsZWRcIikrJ1wiPicrYS5mb3JtYXQoXCJzc1wiKStcIjwvdGQ+XCIpLGEuYWRkKDUsXCJzXCIpO3QuZW1wdHkoKS5hcHBlbmQobil9LFg9ZnVuY3Rpb24oKXt2YXIgZSx0LGE9bS5maW5kKFwiLnRpbWVwaWNrZXIgc3BhbltkYXRhLXRpbWUtY29tcG9uZW50XVwiKTtzfHwoZT1tLmZpbmQoXCIudGltZXBpY2tlciBbZGF0YS1hY3Rpb249dG9nZ2xlUGVyaW9kXVwiKSx0PXIuY2xvbmUoKS5hZGQoci5ob3VycygpPj0xMj8tMTI6MTIsXCJoXCIpLGUudGV4dChyLmZvcm1hdChcIkFcIikpLE4odCxcImhcIik/ZS5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpOmUuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSksYS5maWx0ZXIoXCJbZGF0YS10aW1lLWNvbXBvbmVudD1ob3Vyc11cIikudGV4dChyLmZvcm1hdChzP1wiSEhcIjpcImhoXCIpKSxhLmZpbHRlcihcIltkYXRhLXRpbWUtY29tcG9uZW50PW1pbnV0ZXNdXCIpLnRleHQoci5mb3JtYXQoXCJtbVwiKSksYS5maWx0ZXIoXCJbZGF0YS10aW1lLWNvbXBvbmVudD1zZWNvbmRzXVwiKS50ZXh0KHIuZm9ybWF0KFwic3NcIikpLEcoKSxKKCksSygpfSwkPWZ1bmN0aW9uKCl7bSYmKFUoKSxYKCkpfSxfPWZ1bmN0aW9uKGUpe3ZhciB0PXU/bnVsbDpyO2lmKCFlKXJldHVybiB1PSEwLG8udmFsKFwiXCIpLGEuZGF0YShcImRhdGVcIixcIlwiKSxxKHt0eXBlOlwiZHAuY2hhbmdlXCIsZGF0ZTohMSxvbGREYXRlOnR9KSx2b2lkICQoKTtpZihlPWUuY2xvbmUoKS5sb2NhbGUobi5sb2NhbGUpLEMoKSYmZS50eihuLnRpbWVab25lKSwxIT09bi5zdGVwcGluZylmb3IoZS5taW51dGVzKE1hdGgucm91bmQoZS5taW51dGVzKCkvbi5zdGVwcGluZykqbi5zdGVwcGluZykuc2Vjb25kcygwKTtuLm1pbkRhdGUmJmUuaXNCZWZvcmUobi5taW5EYXRlKTspZS5hZGQobi5zdGVwcGluZyxcIm1pbnV0ZXNcIik7TihlKT8oaT0ocj1lKS5jbG9uZSgpLG8udmFsKHIuZm9ybWF0KGQpKSxhLmRhdGEoXCJkYXRlXCIsci5mb3JtYXQoZCkpLHU9ITEsJCgpLHEoe3R5cGU6XCJkcC5jaGFuZ2VcIixkYXRlOnIuY2xvbmUoKSxvbGREYXRlOnR9KSk6KG4ua2VlcEludmFsaWQ/cSh7dHlwZTpcImRwLmNoYW5nZVwiLGRhdGU6ZSxvbGREYXRlOnR9KTpvLnZhbCh1P1wiXCI6ci5mb3JtYXQoZCkpLHEoe3R5cGU6XCJkcC5lcnJvclwiLGRhdGU6ZSxvbGREYXRlOnR9KSl9LGVlPWZ1bmN0aW9uKCl7dmFyIHQ9ITE7cmV0dXJuIG0/KG0uZmluZChcIi5jb2xsYXBzZVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9ZSh0aGlzKS5kYXRhKFwiY29sbGFwc2VcIik7cmV0dXJuIWF8fCFhLnRyYW5zaXRpb25pbmd8fCh0PSEwLCExKX0pLHQ/YzooZiYmZi5oYXNDbGFzcyhcImJ0blwiKSYmZi50b2dnbGVDbGFzcyhcImFjdGl2ZVwiKSxtLmhpZGUoKSxlKHdpbmRvdykub2ZmKFwicmVzaXplXCIsWSksbS5vZmYoXCJjbGlja1wiLFwiW2RhdGEtYWN0aW9uXVwiKSxtLm9mZihcIm1vdXNlZG93blwiLCExKSxtLnJlbW92ZSgpLG09ITEscSh7dHlwZTpcImRwLmhpZGVcIixkYXRlOnIuY2xvbmUoKX0pLG8uYmx1cigpLGk9ci5jbG9uZSgpLGMpKTpjfSx0ZT1mdW5jdGlvbigpe18obnVsbCl9LGFlPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1uLnBhcnNlSW5wdXREYXRlPyghdC5pc01vbWVudChlKXx8ZSBpbnN0YW5jZW9mIERhdGUpJiYoZT14KGUpKTplPW4ucGFyc2VJbnB1dERhdGUoZSksZX0sbmU9e25leHQ6ZnVuY3Rpb24oKXt2YXIgZT15W3BdLm5hdkZuYztpLmFkZCh5W3BdLm5hdlN0ZXAsZSksVSgpLEIoZSl9LHByZXZpb3VzOmZ1bmN0aW9uKCl7dmFyIGU9eVtwXS5uYXZGbmM7aS5zdWJ0cmFjdCh5W3BdLm5hdlN0ZXAsZSksVSgpLEIoZSl9LHBpY2tlclN3aXRjaDpmdW5jdGlvbigpe2ooMSl9LHNlbGVjdE1vbnRoOmZ1bmN0aW9uKHQpe3ZhciBhPWUodC50YXJnZXQpLmNsb3Nlc3QoXCJ0Ym9keVwiKS5maW5kKFwic3BhblwiKS5pbmRleChlKHQudGFyZ2V0KSk7aS5tb250aChhKSxwPT09aD8oXyhyLmNsb25lKCkueWVhcihpLnllYXIoKSkubW9udGgoaS5tb250aCgpKSksbi5pbmxpbmV8fGVlKCkpOihqKC0xKSxVKCkpLEIoXCJNXCIpfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKHQpe3ZhciBhPXBhcnNlSW50KGUodC50YXJnZXQpLnRleHQoKSwxMCl8fDA7aS55ZWFyKGEpLHA9PT1oPyhfKHIuY2xvbmUoKS55ZWFyKGkueWVhcigpKSksbi5pbmxpbmV8fGVlKCkpOihqKC0xKSxVKCkpLEIoXCJZWVlZXCIpfSxzZWxlY3REZWNhZGU6ZnVuY3Rpb24odCl7dmFyIGE9cGFyc2VJbnQoZSh0LnRhcmdldCkuZGF0YShcInNlbGVjdGlvblwiKSwxMCl8fDA7aS55ZWFyKGEpLHA9PT1oPyhfKHIuY2xvbmUoKS55ZWFyKGkueWVhcigpKSksbi5pbmxpbmV8fGVlKCkpOihqKC0xKSxVKCkpLEIoXCJZWVlZXCIpfSxzZWxlY3REYXk6ZnVuY3Rpb24odCl7dmFyIGE9aS5jbG9uZSgpO2UodC50YXJnZXQpLmlzKFwiLm9sZFwiKSYmYS5zdWJ0cmFjdCgxLFwiTVwiKSxlKHQudGFyZ2V0KS5pcyhcIi5uZXdcIikmJmEuYWRkKDEsXCJNXCIpLF8oYS5kYXRlKHBhcnNlSW50KGUodC50YXJnZXQpLnRleHQoKSwxMCkpKSxNKCl8fG4ua2VlcE9wZW58fG4uaW5saW5lfHxlZSgpfSxpbmNyZW1lbnRIb3VyczpmdW5jdGlvbigpe3ZhciBlPXIuY2xvbmUoKS5hZGQoMSxcImhcIik7TihlLFwiaFwiKSYmXyhlKX0saW5jcmVtZW50TWludXRlczpmdW5jdGlvbigpe3ZhciBlPXIuY2xvbmUoKS5hZGQobi5zdGVwcGluZyxcIm1cIik7TihlLFwibVwiKSYmXyhlKX0saW5jcmVtZW50U2Vjb25kczpmdW5jdGlvbigpe3ZhciBlPXIuY2xvbmUoKS5hZGQoMSxcInNcIik7TihlLFwic1wiKSYmXyhlKX0sZGVjcmVtZW50SG91cnM6ZnVuY3Rpb24oKXt2YXIgZT1yLmNsb25lKCkuc3VidHJhY3QoMSxcImhcIik7TihlLFwiaFwiKSYmXyhlKX0sZGVjcmVtZW50TWludXRlczpmdW5jdGlvbigpe3ZhciBlPXIuY2xvbmUoKS5zdWJ0cmFjdChuLnN0ZXBwaW5nLFwibVwiKTtOKGUsXCJtXCIpJiZfKGUpfSxkZWNyZW1lbnRTZWNvbmRzOmZ1bmN0aW9uKCl7dmFyIGU9ci5jbG9uZSgpLnN1YnRyYWN0KDEsXCJzXCIpO04oZSxcInNcIikmJl8oZSl9LHRvZ2dsZVBlcmlvZDpmdW5jdGlvbigpe18oci5jbG9uZSgpLmFkZChyLmhvdXJzKCk+PTEyPy0xMjoxMixcImhcIikpfSx0b2dnbGVQaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGEscj1lKHQudGFyZ2V0KSxpPXIuY2xvc2VzdChcInVsXCIpLG89aS5maW5kKFwiLnNob3dcIikscz1pLmZpbmQoXCIuY29sbGFwc2U6bm90KC5zaG93KVwiKTtpZihvJiZvLmxlbmd0aCl7aWYoKGE9by5kYXRhKFwiY29sbGFwc2VcIikpJiZhLnRyYW5zaXRpb25pbmcpcmV0dXJuO28uY29sbGFwc2U/KG8uY29sbGFwc2UoXCJoaWRlXCIpLHMuY29sbGFwc2UoXCJzaG93XCIpKTooby5yZW1vdmVDbGFzcyhcInNob3dcIikscy5hZGRDbGFzcyhcInNob3dcIikpLHIuaXMoXCJpXCIpP3IudG9nZ2xlQ2xhc3Mobi5pY29ucy50aW1lK1wiIFwiK24uaWNvbnMuZGF0ZSk6ci5maW5kKFwiaVwiKS50b2dnbGVDbGFzcyhuLmljb25zLnRpbWUrXCIgXCIrbi5pY29ucy5kYXRlKX19LHNob3dQaWNrZXI6ZnVuY3Rpb24oKXttLmZpbmQoXCIudGltZXBpY2tlciA+IGRpdjpub3QoLnRpbWVwaWNrZXItcGlja2VyKVwiKS5oaWRlKCksbS5maW5kKFwiLnRpbWVwaWNrZXIgLnRpbWVwaWNrZXItcGlja2VyXCIpLnNob3coKX0sc2hvd0hvdXJzOmZ1bmN0aW9uKCl7bS5maW5kKFwiLnRpbWVwaWNrZXIgLnRpbWVwaWNrZXItcGlja2VyXCIpLmhpZGUoKSxtLmZpbmQoXCIudGltZXBpY2tlciAudGltZXBpY2tlci1ob3Vyc1wiKS5zaG93KCl9LHNob3dNaW51dGVzOmZ1bmN0aW9uKCl7bS5maW5kKFwiLnRpbWVwaWNrZXIgLnRpbWVwaWNrZXItcGlja2VyXCIpLmhpZGUoKSxtLmZpbmQoXCIudGltZXBpY2tlciAudGltZXBpY2tlci1taW51dGVzXCIpLnNob3coKX0sc2hvd1NlY29uZHM6ZnVuY3Rpb24oKXttLmZpbmQoXCIudGltZXBpY2tlciAudGltZXBpY2tlci1waWNrZXJcIikuaGlkZSgpLG0uZmluZChcIi50aW1lcGlja2VyIC50aW1lcGlja2VyLXNlY29uZHNcIikuc2hvdygpfSxzZWxlY3RIb3VyOmZ1bmN0aW9uKHQpe3ZhciBhPXBhcnNlSW50KGUodC50YXJnZXQpLnRleHQoKSwxMCk7c3x8KHIuaG91cnMoKT49MTI/MTIhPT1hJiYoYSs9MTIpOjEyPT09YSYmKGE9MCkpLF8oci5jbG9uZSgpLmhvdXJzKGEpKSxuZS5zaG93UGlja2VyLmNhbGwoYyl9LHNlbGVjdE1pbnV0ZTpmdW5jdGlvbih0KXtfKHIuY2xvbmUoKS5taW51dGVzKHBhcnNlSW50KGUodC50YXJnZXQpLnRleHQoKSwxMCkpKSxuZS5zaG93UGlja2VyLmNhbGwoYyl9LHNlbGVjdFNlY29uZDpmdW5jdGlvbih0KXtfKHIuY2xvbmUoKS5zZWNvbmRzKHBhcnNlSW50KGUodC50YXJnZXQpLnRleHQoKSwxMCkpKSxuZS5zaG93UGlja2VyLmNhbGwoYyl9LGNsZWFyOnRlLHRvZGF5OmZ1bmN0aW9uKCl7dmFyIGU9eCgpO04oZSxcImRcIikmJl8oZSl9LGNsb3NlOmVlfSxyZT1mdW5jdGlvbih0KXtyZXR1cm4hZSh0LmN1cnJlbnRUYXJnZXQpLmlzKFwiLmRpc2FibGVkXCIpJiYobmVbZSh0LmN1cnJlbnRUYXJnZXQpLmRhdGEoXCJhY3Rpb25cIildLmFwcGx5KGMsYXJndW1lbnRzKSwhMSl9LGllPWZ1bmN0aW9uKCl7dmFyIHQsYT17eWVhcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5tb250aCgwKS5kYXRlKDEpLmhvdXJzKDApLnNlY29uZHMoMCkubWludXRlcygwKX0sbW9udGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGF0ZSgxKS5ob3VycygwKS5zZWNvbmRzKDApLm1pbnV0ZXMoMCl9LGRheTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ob3VycygwKS5zZWNvbmRzKDApLm1pbnV0ZXMoMCl9LGhvdXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2Vjb25kcygwKS5taW51dGVzKDApfSxtaW51dGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2Vjb25kcygwKX19O3JldHVybiBvLnByb3AoXCJkaXNhYmxlZFwiKXx8IW4uaWdub3JlUmVhZG9ubHkmJm8ucHJvcChcInJlYWRvbmx5XCIpfHxtP2M6KHZvaWQgMCE9PW8udmFsKCkmJjAhPT1vLnZhbCgpLnRyaW0oKS5sZW5ndGg/XyhhZShvLnZhbCgpLnRyaW0oKSkpOnUmJm4udXNlQ3VycmVudCYmKG4uaW5saW5lfHxvLmlzKFwiaW5wdXRcIikmJjA9PT1vLnZhbCgpLnRyaW0oKS5sZW5ndGgpJiYodD14KCksXCJzdHJpbmdcIj09dHlwZW9mIG4udXNlQ3VycmVudCYmKHQ9YVtuLnVzZUN1cnJlbnRdKHQpKSxfKHQpKSxtPUkoKSxBKCksVigpLG0uZmluZChcIi50aW1lcGlja2VyLWhvdXJzXCIpLmhpZGUoKSxtLmZpbmQoXCIudGltZXBpY2tlci1taW51dGVzXCIpLmhpZGUoKSxtLmZpbmQoXCIudGltZXBpY2tlci1zZWNvbmRzXCIpLmhpZGUoKSwkKCksaigpLGUod2luZG93KS5vbihcInJlc2l6ZVwiLFkpLG0ub24oXCJjbGlja1wiLFwiW2RhdGEtYWN0aW9uXVwiLHJlKSxtLm9uKFwibW91c2Vkb3duXCIsITEpLGYmJmYuaGFzQ2xhc3MoXCJidG5cIikmJmYudG9nZ2xlQ2xhc3MoXCJhY3RpdmVcIiksWSgpLG0uc2hvdygpLG4uZm9jdXNPblNob3cmJiFvLmlzKFwiOmZvY3VzXCIpJiZvLmZvY3VzKCkscSh7dHlwZTpcImRwLnNob3dcIn0pLGMpfSxvZT1mdW5jdGlvbigpe3JldHVybiBtP2VlKCk6aWUoKX0sc2U9ZnVuY3Rpb24oZSl7dmFyIHQsYSxyLGksbz1udWxsLHM9W10sZD17fSxsPWUud2hpY2g7RFtsXT1cInBcIjtmb3IodCBpbiBEKUQuaGFzT3duUHJvcGVydHkodCkmJlwicFwiPT09RFt0XSYmKHMucHVzaCh0KSxwYXJzZUludCh0LDEwKSE9PWwmJihkW3RdPSEwKSk7Zm9yKHQgaW4gbi5rZXlCaW5kcylpZihuLmtleUJpbmRzLmhhc093blByb3BlcnR5KHQpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmtleUJpbmRzW3RdJiYocj10LnNwbGl0KFwiIFwiKSkubGVuZ3RoPT09cy5sZW5ndGgmJmtbbF09PT1yW3IubGVuZ3RoLTFdKXtmb3IoaT0hMCxhPXIubGVuZ3RoLTI7YT49MDthLS0paWYoIShrW3JbYV1daW4gZCkpe2k9ITE7YnJlYWt9aWYoaSl7bz1uLmtleUJpbmRzW3RdO2JyZWFrfX1vJiYoby5jYWxsKGMsbSksZS5zdG9wUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCkpfSxkZT1mdW5jdGlvbihlKXtEW2Uud2hpY2hdPVwiclwiLGUuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpfSxsZT1mdW5jdGlvbih0KXt2YXIgYT1lKHQudGFyZ2V0KS52YWwoKS50cmltKCksbj1hP2FlKGEpOm51bGw7cmV0dXJuIF8obiksdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMX0scGU9ZnVuY3Rpb24oKXtvLm9mZih7Y2hhbmdlOmxlLGJsdXI6Ymx1cixrZXlkb3duOnNlLGtleXVwOmRlLGZvY3VzOm4uYWxsb3dJbnB1dFRvZ2dsZT9lZTpcIlwifSksYS5pcyhcImlucHV0XCIpP28ub2ZmKHtmb2N1czppZX0pOmYmJihmLm9mZihcImNsaWNrXCIsb2UpLGYub2ZmKFwibW91c2Vkb3duXCIsITEpKX0sY2U9ZnVuY3Rpb24odCl7dmFyIGE9e307cmV0dXJuIGUuZWFjaCh0LGZ1bmN0aW9uKCl7dmFyIGU9YWUodGhpcyk7ZS5pc1ZhbGlkKCkmJihhW2UuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKV09ITApfSksISFPYmplY3Qua2V5cyhhKS5sZW5ndGgmJmF9LHVlPWZ1bmN0aW9uKHQpe3ZhciBhPXt9O3JldHVybiBlLmVhY2godCxmdW5jdGlvbigpe2FbdGhpc109ITB9KSwhIU9iamVjdC5rZXlzKGEpLmxlbmd0aCYmYX0sZmU9ZnVuY3Rpb24oKXt2YXIgZT1uLmZvcm1hdHx8XCJMIExUXCI7ZD1lLnJlcGxhY2UoLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZyxmdW5jdGlvbihlKXtyZXR1cm4oci5sb2NhbGVEYXRhKCkubG9uZ0RhdGVGb3JtYXQoZSl8fGUpLnJlcGxhY2UoLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZyxmdW5jdGlvbihlKXtyZXR1cm4gci5sb2NhbGVEYXRhKCkubG9uZ0RhdGVGb3JtYXQoZSl8fGV9KX0pLChsPW4uZXh0cmFGb3JtYXRzP24uZXh0cmFGb3JtYXRzLnNsaWNlKCk6W10pLmluZGV4T2YoZSk8MCYmbC5pbmRleE9mKGQpPDAmJmwucHVzaChkKSxzPWQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiYVwiKTwxJiZkLnJlcGxhY2UoL1xcWy4qP1xcXS9nLFwiXCIpLmluZGV4T2YoXCJoXCIpPDEsVChcInlcIikmJihoPTIpLFQoXCJNXCIpJiYoaD0xKSxUKFwiZFwiKSYmKGg9MCkscD1NYXRoLm1heChoLHApLHV8fF8ocil9O2lmKGMuZGVzdHJveT1mdW5jdGlvbigpe2VlKCkscGUoKSxhLnJlbW92ZURhdGEoXCJEYXRlVGltZVBpY2tlclwiKSxhLnJlbW92ZURhdGEoXCJkYXRlXCIpfSxjLnRvZ2dsZT1vZSxjLnNob3c9aWUsYy5oaWRlPWVlLGMuZGlzYWJsZT1mdW5jdGlvbigpe3JldHVybiBlZSgpLGYmJmYuaGFzQ2xhc3MoXCJidG5cIikmJmYuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSxvLnByb3AoXCJkaXNhYmxlZFwiLCEwKSxjfSxjLmVuYWJsZT1mdW5jdGlvbigpe3JldHVybiBmJiZmLmhhc0NsYXNzKFwiYnRuXCIpJiZmLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIiksby5wcm9wKFwiZGlzYWJsZWRcIiwhMSksY30sYy5pZ25vcmVSZWFkb25seT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5pZ25vcmVSZWFkb25seTtpZihcImJvb2xlYW5cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImlnbm9yZVJlYWRvbmx5ICgpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlclwiKTtyZXR1cm4gbi5pZ25vcmVSZWFkb25seT1lLGN9LGMub3B0aW9ucz1mdW5jdGlvbih0KXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZS5leHRlbmQoITAse30sbik7aWYoISh0IGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9ucygpIG9wdGlvbnMgcGFyYW1ldGVyIHNob3VsZCBiZSBhbiBvYmplY3RcIik7cmV0dXJuIGUuZXh0ZW5kKCEwLG4sdCksZS5lYWNoKG4sZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1jW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoXCJvcHRpb24gXCIrZStcIiBpcyBub3QgcmVjb2duaXplZCFcIik7Y1tlXSh0KX0pLGN9LGMuZGF0ZT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdT9udWxsOnIuY2xvbmUoKTtpZighKG51bGw9PT1lfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8dC5pc01vbWVudChlKXx8ZSBpbnN0YW5jZW9mIERhdGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkYXRlKCkgcGFyYW1ldGVyIG11c3QgYmUgb25lIG9mIFtudWxsLCBzdHJpbmcsIG1vbWVudCBvciBEYXRlXVwiKTtyZXR1cm4gXyhudWxsPT09ZT9udWxsOmFlKGUpKSxjfSxjLmZvcm1hdD1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5mb3JtYXQ7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihcImJvb2xlYW5cIiE9dHlwZW9mIGV8fCExIT09ZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImZvcm1hdCgpIGV4cGVjdHMgYSBzdHJpbmcgb3IgYm9vbGVhbjpmYWxzZSBwYXJhbWV0ZXIgXCIrZSk7cmV0dXJuIG4uZm9ybWF0PWUsZCYmZmUoKSxjfSxjLnRpbWVab25lPWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLnRpbWVab25lO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJuZXdab25lKCkgZXhwZWN0cyBhIHN0cmluZyBwYXJhbWV0ZXJcIik7cmV0dXJuIG4udGltZVpvbmU9ZSxjfSxjLmRheVZpZXdIZWFkZXJGb3JtYXQ9ZnVuY3Rpb24oZSl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4uZGF5Vmlld0hlYWRlckZvcm1hdDtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGF5Vmlld0hlYWRlckZvcm1hdCgpIGV4cGVjdHMgYSBzdHJpbmcgcGFyYW1ldGVyXCIpO3JldHVybiBuLmRheVZpZXdIZWFkZXJGb3JtYXQ9ZSxjfSxjLmV4dHJhRm9ybWF0cz1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5leHRyYUZvcm1hdHM7aWYoITEhPT1lJiYhKGUgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImV4dHJhRm9ybWF0cygpIGV4cGVjdHMgYW4gYXJyYXkgb3IgZmFsc2UgcGFyYW1ldGVyXCIpO3JldHVybiBuLmV4dHJhRm9ybWF0cz1lLGwmJmZlKCksY30sYy5kaXNhYmxlZERhdGVzPWZ1bmN0aW9uKHQpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLmRpc2FibGVkRGF0ZXM/ZS5leHRlbmQoe30sbi5kaXNhYmxlZERhdGVzKTpuLmRpc2FibGVkRGF0ZXM7aWYoIXQpcmV0dXJuIG4uZGlzYWJsZWREYXRlcz0hMSwkKCksYztpZighKHQgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImRpc2FibGVkRGF0ZXMoKSBleHBlY3RzIGFuIGFycmF5IHBhcmFtZXRlclwiKTtyZXR1cm4gbi5kaXNhYmxlZERhdGVzPWNlKHQpLG4uZW5hYmxlZERhdGVzPSExLCQoKSxjfSxjLmVuYWJsZWREYXRlcz1mdW5jdGlvbih0KXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5lbmFibGVkRGF0ZXM/ZS5leHRlbmQoe30sbi5lbmFibGVkRGF0ZXMpOm4uZW5hYmxlZERhdGVzO2lmKCF0KXJldHVybiBuLmVuYWJsZWREYXRlcz0hMSwkKCksYztpZighKHQgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuYWJsZWREYXRlcygpIGV4cGVjdHMgYW4gYXJyYXkgcGFyYW1ldGVyXCIpO3JldHVybiBuLmVuYWJsZWREYXRlcz1jZSh0KSxuLmRpc2FibGVkRGF0ZXM9ITEsJCgpLGN9LGMuZGF5c09mV2Vla0Rpc2FibGVkPWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLmRheXNPZldlZWtEaXNhYmxlZC5zcGxpY2UoMCk7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlJiYhZSlyZXR1cm4gbi5kYXlzT2ZXZWVrRGlzYWJsZWQ9ITEsJCgpLGM7aWYoIShlIGluc3RhbmNlb2YgQXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkYXlzT2ZXZWVrRGlzYWJsZWQoKSBleHBlY3RzIGFuIGFycmF5IHBhcmFtZXRlclwiKTtpZihuLmRheXNPZldlZWtEaXNhYmxlZD1lLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybih0PXBhcnNlSW50KHQsMTApKT42fHx0PDB8fGlzTmFOKHQpP2U6KC0xPT09ZS5pbmRleE9mKHQpJiZlLnB1c2godCksZSl9LFtdKS5zb3J0KCksbi51c2VDdXJyZW50JiYhbi5rZWVwSW52YWxpZCl7Zm9yKHZhciB0PTA7IU4ocixcImRcIik7KXtpZihyLmFkZCgxLFwiZFwiKSwzMT09PXQpdGhyb3dcIlRyaWVkIDMxIHRpbWVzIHRvIGZpbmQgYSB2YWxpZCBkYXRlXCI7dCsrfV8ocil9cmV0dXJuICQoKSxjfSxjLm1heERhdGU9ZnVuY3Rpb24oZSl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4ubWF4RGF0ZT9uLm1heERhdGUuY2xvbmUoKTpuLm1heERhdGU7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlJiYhMT09PWUpcmV0dXJuIG4ubWF4RGF0ZT0hMSwkKCksYztcInN0cmluZ1wiPT10eXBlb2YgZSYmKFwibm93XCIhPT1lJiZcIm1vbWVudFwiIT09ZXx8KGU9eCgpKSk7dmFyIHQ9YWUoZSk7aWYoIXQuaXNWYWxpZCgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtYXhEYXRlKCkgQ291bGQgbm90IHBhcnNlIGRhdGUgcGFyYW1ldGVyOiBcIitlKTtpZihuLm1pbkRhdGUmJnQuaXNCZWZvcmUobi5taW5EYXRlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibWF4RGF0ZSgpIGRhdGUgcGFyYW1ldGVyIGlzIGJlZm9yZSBvcHRpb25zLm1pbkRhdGU6IFwiK3QuZm9ybWF0KGQpKTtyZXR1cm4gbi5tYXhEYXRlPXQsbi51c2VDdXJyZW50JiYhbi5rZWVwSW52YWxpZCYmci5pc0FmdGVyKGUpJiZfKG4ubWF4RGF0ZSksaS5pc0FmdGVyKHQpJiYoaT10LmNsb25lKCkuc3VidHJhY3Qobi5zdGVwcGluZyxcIm1cIikpLCQoKSxjfSxjLm1pbkRhdGU9ZnVuY3Rpb24oZSl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4ubWluRGF0ZT9uLm1pbkRhdGUuY2xvbmUoKTpuLm1pbkRhdGU7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlJiYhMT09PWUpcmV0dXJuIG4ubWluRGF0ZT0hMSwkKCksYztcInN0cmluZ1wiPT10eXBlb2YgZSYmKFwibm93XCIhPT1lJiZcIm1vbWVudFwiIT09ZXx8KGU9eCgpKSk7dmFyIHQ9YWUoZSk7aWYoIXQuaXNWYWxpZCgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtaW5EYXRlKCkgQ291bGQgbm90IHBhcnNlIGRhdGUgcGFyYW1ldGVyOiBcIitlKTtpZihuLm1heERhdGUmJnQuaXNBZnRlcihuLm1heERhdGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtaW5EYXRlKCkgZGF0ZSBwYXJhbWV0ZXIgaXMgYWZ0ZXIgb3B0aW9ucy5tYXhEYXRlOiBcIit0LmZvcm1hdChkKSk7cmV0dXJuIG4ubWluRGF0ZT10LG4udXNlQ3VycmVudCYmIW4ua2VlcEludmFsaWQmJnIuaXNCZWZvcmUoZSkmJl8obi5taW5EYXRlKSxpLmlzQmVmb3JlKHQpJiYoaT10LmNsb25lKCkuYWRkKG4uc3RlcHBpbmcsXCJtXCIpKSwkKCksY30sYy5kZWZhdWx0RGF0ZT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5kZWZhdWx0RGF0ZT9uLmRlZmF1bHREYXRlLmNsb25lKCk6bi5kZWZhdWx0RGF0ZTtpZighZSlyZXR1cm4gbi5kZWZhdWx0RGF0ZT0hMSxjO1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1cIm5vd1wiPT09ZXx8XCJtb21lbnRcIj09PWU/eCgpOngoZSkpO3ZhciB0PWFlKGUpO2lmKCF0LmlzVmFsaWQoKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGVmYXVsdERhdGUoKSBDb3VsZCBub3QgcGFyc2UgZGF0ZSBwYXJhbWV0ZXI6IFwiK2UpO2lmKCFOKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWZhdWx0RGF0ZSgpIGRhdGUgcGFzc2VkIGlzIGludmFsaWQgYWNjb3JkaW5nIHRvIGNvbXBvbmVudCBzZXR1cCB2YWxpZGF0aW9uc1wiKTtyZXR1cm4gbi5kZWZhdWx0RGF0ZT10LChuLmRlZmF1bHREYXRlJiZuLmlubGluZXx8XCJcIj09PW8udmFsKCkudHJpbSgpKSYmXyhuLmRlZmF1bHREYXRlKSxjfSxjLmxvY2FsZT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5sb2NhbGU7aWYoIXQubG9jYWxlRGF0YShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibG9jYWxlKCkgbG9jYWxlIFwiK2UrXCIgaXMgbm90IGxvYWRlZCBmcm9tIG1vbWVudCBsb2NhbGVzIVwiKTtyZXR1cm4gbi5sb2NhbGU9ZSxyLmxvY2FsZShuLmxvY2FsZSksaS5sb2NhbGUobi5sb2NhbGUpLGQmJmZlKCksbSYmKGVlKCksaWUoKSksY30sYy5zdGVwcGluZz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/bi5zdGVwcGluZzooZT1wYXJzZUludChlLDEwKSwoaXNOYU4oZSl8fGU8MSkmJihlPTEpLG4uc3RlcHBpbmc9ZSxjKX0sYy51c2VDdXJyZW50PWZ1bmN0aW9uKGUpe3ZhciB0PVtcInllYXJcIixcIm1vbnRoXCIsXCJkYXlcIixcImhvdXJcIixcIm1pbnV0ZVwiXTtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi51c2VDdXJyZW50O2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcInVzZUN1cnJlbnQoKSBleHBlY3RzIGEgYm9vbGVhbiBvciBzdHJpbmcgcGFyYW1ldGVyXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMT09PXQuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ1c2VDdXJyZW50KCkgZXhwZWN0cyBhIHN0cmluZyBwYXJhbWV0ZXIgb2YgXCIrdC5qb2luKFwiLCBcIikpO3JldHVybiBuLnVzZUN1cnJlbnQ9ZSxjfSxjLmNvbGxhcHNlPWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLmNvbGxhcHNlO2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY29sbGFwc2UoKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXJcIik7cmV0dXJuIG4uY29sbGFwc2U9PT1lP2M6KG4uY29sbGFwc2U9ZSxtJiYoZWUoKSxpZSgpKSxjKX0sYy5pY29ucz1mdW5jdGlvbih0KXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZS5leHRlbmQoe30sbi5pY29ucyk7aWYoISh0IGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiaWNvbnMoKSBleHBlY3RzIHBhcmFtZXRlciB0byBiZSBhbiBPYmplY3RcIik7cmV0dXJuIGUuZXh0ZW5kKG4uaWNvbnMsdCksbSYmKGVlKCksaWUoKSksY30sYy50b29sdGlwcz1mdW5jdGlvbih0KXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZS5leHRlbmQoe30sbi50b29sdGlwcyk7aWYoISh0IGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwidG9vbHRpcHMoKSBleHBlY3RzIHBhcmFtZXRlciB0byBiZSBhbiBPYmplY3RcIik7cmV0dXJuIGUuZXh0ZW5kKG4udG9vbHRpcHMsdCksbSYmKGVlKCksaWUoKSksY30sYy51c2VTdHJpY3Q9ZnVuY3Rpb24oZSl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4udXNlU3RyaWN0O2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwidXNlU3RyaWN0KCkgZXhwZWN0cyBhIGJvb2xlYW4gcGFyYW1ldGVyXCIpO3JldHVybiBuLnVzZVN0cmljdD1lLGN9LGMuc2lkZUJ5U2lkZT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5zaWRlQnlTaWRlO2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwic2lkZUJ5U2lkZSgpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlclwiKTtyZXR1cm4gbi5zaWRlQnlTaWRlPWUsbSYmKGVlKCksaWUoKSksY30sYy52aWV3TW9kZT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi52aWV3TW9kZTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwidmlld01vZGUoKSBleHBlY3RzIGEgc3RyaW5nIHBhcmFtZXRlclwiKTtpZigtMT09PXcuaW5kZXhPZihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwidmlld01vZGUoKSBwYXJhbWV0ZXIgbXVzdCBiZSBvbmUgb2YgKFwiK3cuam9pbihcIiwgXCIpK1wiKSB2YWx1ZVwiKTtyZXR1cm4gbi52aWV3TW9kZT1lLHA9TWF0aC5tYXgody5pbmRleE9mKGUpLGgpLGooKSxjfSxjLnRvb2xiYXJQbGFjZW1lbnQ9ZnVuY3Rpb24oZSl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4udG9vbGJhclBsYWNlbWVudDtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwidG9vbGJhclBsYWNlbWVudCgpIGV4cGVjdHMgYSBzdHJpbmcgcGFyYW1ldGVyXCIpO2lmKC0xPT09di5pbmRleE9mKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ0b29sYmFyUGxhY2VtZW50KCkgcGFyYW1ldGVyIG11c3QgYmUgb25lIG9mIChcIit2LmpvaW4oXCIsIFwiKStcIikgdmFsdWVcIik7cmV0dXJuIG4udG9vbGJhclBsYWNlbWVudD1lLG0mJihlZSgpLGllKCkpLGN9LGMud2lkZ2V0UG9zaXRpb25pbmc9ZnVuY3Rpb24odCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGUuZXh0ZW5kKHt9LG4ud2lkZ2V0UG9zaXRpb25pbmcpO2lmKFwiW29iamVjdCBPYmplY3RdXCIhPT17fS50b1N0cmluZy5jYWxsKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ3aWRnZXRQb3NpdGlvbmluZygpIGV4cGVjdHMgYW4gb2JqZWN0IHZhcmlhYmxlXCIpO2lmKHQuaG9yaXpvbnRhbCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQuaG9yaXpvbnRhbCl0aHJvdyBuZXcgVHlwZUVycm9yKFwid2lkZ2V0UG9zaXRpb25pbmcoKSBob3Jpem9udGFsIHZhcmlhYmxlIG11c3QgYmUgYSBzdHJpbmdcIik7aWYodC5ob3Jpem9udGFsPXQuaG9yaXpvbnRhbC50b0xvd2VyQ2FzZSgpLC0xPT09Zy5pbmRleE9mKHQuaG9yaXpvbnRhbCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIndpZGdldFBvc2l0aW9uaW5nKCkgZXhwZWN0cyBob3Jpem9udGFsIHBhcmFtZXRlciB0byBiZSBvbmUgb2YgKFwiK2cuam9pbihcIiwgXCIpK1wiKVwiKTtuLndpZGdldFBvc2l0aW9uaW5nLmhvcml6b250YWw9dC5ob3Jpem9udGFsfWlmKHQudmVydGljYWwpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0LnZlcnRpY2FsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ3aWRnZXRQb3NpdGlvbmluZygpIHZlcnRpY2FsIHZhcmlhYmxlIG11c3QgYmUgYSBzdHJpbmdcIik7aWYodC52ZXJ0aWNhbD10LnZlcnRpY2FsLnRvTG93ZXJDYXNlKCksLTE9PT1iLmluZGV4T2YodC52ZXJ0aWNhbCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIndpZGdldFBvc2l0aW9uaW5nKCkgZXhwZWN0cyB2ZXJ0aWNhbCBwYXJhbWV0ZXIgdG8gYmUgb25lIG9mIChcIitiLmpvaW4oXCIsIFwiKStcIilcIik7bi53aWRnZXRQb3NpdGlvbmluZy52ZXJ0aWNhbD10LnZlcnRpY2FsfXJldHVybiAkKCksY30sYy5jYWxlbmRhcldlZWtzPWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLmNhbGVuZGFyV2Vla3M7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYWxlbmRhcldlZWtzKCkgZXhwZWN0cyBwYXJhbWV0ZXIgdG8gYmUgYSBib29sZWFuIHZhbHVlXCIpO3JldHVybiBuLmNhbGVuZGFyV2Vla3M9ZSwkKCksY30sYy5zaG93VG9kYXlCdXR0b249ZnVuY3Rpb24oZSl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4uc2hvd1RvZGF5QnV0dG9uO2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwic2hvd1RvZGF5QnV0dG9uKCkgZXhwZWN0cyBhIGJvb2xlYW4gcGFyYW1ldGVyXCIpO3JldHVybiBuLnNob3dUb2RheUJ1dHRvbj1lLG0mJihlZSgpLGllKCkpLGN9LGMuc2hvd0NsZWFyPWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLnNob3dDbGVhcjtpZihcImJvb2xlYW5cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcInNob3dDbGVhcigpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlclwiKTtyZXR1cm4gbi5zaG93Q2xlYXI9ZSxtJiYoZWUoKSxpZSgpKSxjfSxjLndpZGdldFBhcmVudD1mdW5jdGlvbih0KXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi53aWRnZXRQYXJlbnQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUodCkpLG51bGwhPT10JiZcInN0cmluZ1wiIT10eXBlb2YgdCYmISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIndpZGdldFBhcmVudCgpIGV4cGVjdHMgYSBzdHJpbmcgb3IgYSBqUXVlcnkgb2JqZWN0IHBhcmFtZXRlclwiKTtyZXR1cm4gbi53aWRnZXRQYXJlbnQ9dCxtJiYoZWUoKSxpZSgpKSxjfSxjLmtlZXBPcGVuPWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLmtlZXBPcGVuO2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwia2VlcE9wZW4oKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXJcIik7cmV0dXJuIG4ua2VlcE9wZW49ZSxjfSxjLmZvY3VzT25TaG93PWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLmZvY3VzT25TaG93O2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZm9jdXNPblNob3coKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXJcIik7cmV0dXJuIG4uZm9jdXNPblNob3c9ZSxjfSxjLmlubGluZT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5pbmxpbmU7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJpbmxpbmUoKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXJcIik7cmV0dXJuIG4uaW5saW5lPWUsY30sYy5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0ZSgpLGN9LGMua2V5QmluZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP24ua2V5QmluZHM6KG4ua2V5QmluZHM9ZSxjKX0sYy5nZXRNb21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSl9LGMuZGVidWc9ZnVuY3Rpb24oZSl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkZWJ1ZygpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlclwiKTtyZXR1cm4gbi5kZWJ1Zz1lLGN9LGMuYWxsb3dJbnB1dFRvZ2dsZT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5hbGxvd0lucHV0VG9nZ2xlO2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYWxsb3dJbnB1dFRvZ2dsZSgpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlclwiKTtyZXR1cm4gbi5hbGxvd0lucHV0VG9nZ2xlPWUsY30sYy5zaG93Q2xvc2U9ZnVuY3Rpb24oZSl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4uc2hvd0Nsb3NlO2lmKFwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwic2hvd0Nsb3NlKCkgZXhwZWN0cyBhIGJvb2xlYW4gcGFyYW1ldGVyXCIpO3JldHVybiBuLnNob3dDbG9zZT1lLGN9LGMua2VlcEludmFsaWQ9ZnVuY3Rpb24oZSl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4ua2VlcEludmFsaWQ7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJrZWVwSW52YWxpZCgpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlclwiKTtyZXR1cm4gbi5rZWVwSW52YWxpZD1lLGN9LGMuZGF0ZXBpY2tlcklucHV0PWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLmRhdGVwaWNrZXJJbnB1dDtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGF0ZXBpY2tlcklucHV0KCkgZXhwZWN0cyBhIHN0cmluZyBwYXJhbWV0ZXJcIik7cmV0dXJuIG4uZGF0ZXBpY2tlcklucHV0PWUsY30sYy5wYXJzZUlucHV0RGF0ZT1mdW5jdGlvbihlKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5wYXJzZUlucHV0RGF0ZTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJwYXJzZUlucHV0RGF0ZSgpIHNob2x1ZCBiZSBhcyBmdW5jdGlvblwiKTtyZXR1cm4gbi5wYXJzZUlucHV0RGF0ZT1lLGN9LGMuZGlzYWJsZWRUaW1lSW50ZXJ2YWxzPWZ1bmN0aW9uKHQpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLmRpc2FibGVkVGltZUludGVydmFscz9lLmV4dGVuZCh7fSxuLmRpc2FibGVkVGltZUludGVydmFscyk6bi5kaXNhYmxlZFRpbWVJbnRlcnZhbHM7aWYoIXQpcmV0dXJuIG4uZGlzYWJsZWRUaW1lSW50ZXJ2YWxzPSExLCQoKSxjO2lmKCEodCBpbnN0YW5jZW9mIEFycmF5KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGlzYWJsZWRUaW1lSW50ZXJ2YWxzKCkgZXhwZWN0cyBhbiBhcnJheSBwYXJhbWV0ZXJcIik7cmV0dXJuIG4uZGlzYWJsZWRUaW1lSW50ZXJ2YWxzPXQsJCgpLGN9LGMuZGlzYWJsZWRIb3Vycz1mdW5jdGlvbih0KXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi5kaXNhYmxlZEhvdXJzP2UuZXh0ZW5kKHt9LG4uZGlzYWJsZWRIb3Vycyk6bi5kaXNhYmxlZEhvdXJzO2lmKCF0KXJldHVybiBuLmRpc2FibGVkSG91cnM9ITEsJCgpLGM7aWYoISh0IGluc3RhbmNlb2YgQXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJkaXNhYmxlZEhvdXJzKCkgZXhwZWN0cyBhbiBhcnJheSBwYXJhbWV0ZXJcIik7aWYobi5kaXNhYmxlZEhvdXJzPXVlKHQpLG4uZW5hYmxlZEhvdXJzPSExLG4udXNlQ3VycmVudCYmIW4ua2VlcEludmFsaWQpe2Zvcih2YXIgYT0wOyFOKHIsXCJoXCIpOyl7aWYoci5hZGQoMSxcImhcIiksMjQ9PT1hKXRocm93XCJUcmllZCAyNCB0aW1lcyB0byBmaW5kIGEgdmFsaWQgZGF0ZVwiO2ErK31fKHIpfXJldHVybiAkKCksY30sYy5lbmFibGVkSG91cnM9ZnVuY3Rpb24odCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4uZW5hYmxlZEhvdXJzP2UuZXh0ZW5kKHt9LG4uZW5hYmxlZEhvdXJzKTpuLmVuYWJsZWRIb3VycztpZighdClyZXR1cm4gbi5lbmFibGVkSG91cnM9ITEsJCgpLGM7aWYoISh0IGluc3RhbmNlb2YgQXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJlbmFibGVkSG91cnMoKSBleHBlY3RzIGFuIGFycmF5IHBhcmFtZXRlclwiKTtpZihuLmVuYWJsZWRIb3Vycz11ZSh0KSxuLmRpc2FibGVkSG91cnM9ITEsbi51c2VDdXJyZW50JiYhbi5rZWVwSW52YWxpZCl7Zm9yKHZhciBhPTA7IU4ocixcImhcIik7KXtpZihyLmFkZCgxLFwiaFwiKSwyND09PWEpdGhyb3dcIlRyaWVkIDI0IHRpbWVzIHRvIGZpbmQgYSB2YWxpZCBkYXRlXCI7YSsrfV8ocil9cmV0dXJuICQoKSxjfSxjLnZpZXdEYXRlPWZ1bmN0aW9uKGUpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBpLmNsb25lKCk7aWYoIWUpcmV0dXJuIGk9ci5jbG9uZSgpLGM7aWYoIShcInN0cmluZ1wiPT10eXBlb2YgZXx8dC5pc01vbWVudChlKXx8ZSBpbnN0YW5jZW9mIERhdGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ2aWV3RGF0ZSgpIHBhcmFtZXRlciBtdXN0IGJlIG9uZSBvZiBbc3RyaW5nLCBtb21lbnQgb3IgRGF0ZV1cIik7cmV0dXJuIGk9YWUoZSksQigpLGN9LGEuaXMoXCJpbnB1dFwiKSlvPWE7ZWxzZSBpZigwPT09KG89YS5maW5kKG4uZGF0ZXBpY2tlcklucHV0KSkubGVuZ3RoKW89YS5maW5kKFwiaW5wdXRcIik7ZWxzZSBpZighby5pcyhcImlucHV0XCIpKXRocm93IG5ldyBFcnJvcignQ1NTIGNsYXNzIFwiJytuLmRhdGVwaWNrZXJJbnB1dCsnXCIgY2Fubm90IGJlIGFwcGxpZWQgdG8gbm9uIGlucHV0IGVsZW1lbnQnKTtpZihhLmhhc0NsYXNzKFwiaW5wdXQtZ3JvdXBcIikmJihmPTA9PT1hLmZpbmQoXCIuZGF0ZXBpY2tlcmJ1dHRvblwiKS5sZW5ndGg/YS5maW5kKFwiLmlucHV0LWdyb3VwLWFkZG9uXCIpOmEuZmluZChcIi5kYXRlcGlja2VyYnV0dG9uXCIpKSwhbi5pbmxpbmUmJiFvLmlzKFwiaW5wdXRcIikpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGluaXRpYWxpemUgRGF0ZVRpbWVQaWNrZXIgd2l0aG91dCBhbiBpbnB1dCBlbGVtZW50XCIpO3JldHVybiByPXgoKSxpPXIuY2xvbmUoKSxlLmV4dGVuZCghMCxuLGZ1bmN0aW9uKCl7dmFyIHQscj17fTtyZXR1cm4odD1hLmlzKFwiaW5wdXRcIil8fG4uaW5saW5lP2EuZGF0YSgpOmEuZmluZChcImlucHV0XCIpLmRhdGEoKSkuZGF0ZU9wdGlvbnMmJnQuZGF0ZU9wdGlvbnMgaW5zdGFuY2VvZiBPYmplY3QmJihyPWUuZXh0ZW5kKCEwLHIsdC5kYXRlT3B0aW9ucykpLGUuZWFjaChuLGZ1bmN0aW9uKGUpe3ZhciBhPVwiZGF0ZVwiK2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKTt2b2lkIDAhPT10W2FdJiYocltlXT10W2FdKX0pLHJ9KCkpLGMub3B0aW9ucyhuKSxmZSgpLG8ub24oe2NoYW5nZTpsZSxibHVyOm4uZGVidWc/XCJcIjplZSxrZXlkb3duOnNlLGtleXVwOmRlLGZvY3VzOm4uYWxsb3dJbnB1dFRvZ2dsZT9pZTpcIlwifSksYS5pcyhcImlucHV0XCIpP28ub24oe2ZvY3VzOmllfSk6ZiYmKGYub24oXCJjbGlja1wiLG9lKSxmLm9uKFwibW91c2Vkb3duXCIsITEpKSxvLnByb3AoXCJkaXNhYmxlZFwiKSYmYy5kaXNhYmxlKCksby5pcyhcImlucHV0XCIpJiYwIT09by52YWwoKS50cmltKCkubGVuZ3RoP18oYWUoby52YWwoKS50cmltKCkpKTpuLmRlZmF1bHREYXRlJiZ2b2lkIDA9PT1vLmF0dHIoXCJwbGFjZWhvbGRlclwiKSYmXyhuLmRlZmF1bHREYXRlKSxuLmlubGluZSYmaWUoKSxjfTtyZXR1cm4gZS5mbi5kYXRldGltZXBpY2tlcj1mdW5jdGlvbih0KXt0PXR8fHt9O3ZhciBuLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGk9ITAsbz1bXCJkZXN0cm95XCIsXCJoaWRlXCIsXCJzaG93XCIsXCJ0b2dnbGVcIl07aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuLHI9ZSh0aGlzKTtyLmRhdGEoXCJEYXRlVGltZVBpY2tlclwiKXx8KG49ZS5leHRlbmQoITAse30sZS5mbi5kYXRldGltZXBpY2tlci5kZWZhdWx0cyx0KSxyLmRhdGEoXCJEYXRlVGltZVBpY2tlclwiLGEocixuKSkpfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBhPWUodGhpcykuZGF0YShcIkRhdGVUaW1lUGlja2VyXCIpO2lmKCFhKXRocm93IG5ldyBFcnJvcignYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyKFwiJyt0KydcIikgbWV0aG9kIHdhcyBjYWxsZWQgb24gYW4gZWxlbWVudCB0aGF0IGlzIG5vdCB1c2luZyBEYXRlVGltZVBpY2tlcicpO249YVt0XS5hcHBseShhLHIpLGk9bj09PWF9KSxpfHxlLmluQXJyYXkodCxvKT4tMT90aGlzOm47dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIGZvciBEYXRlVGltZVBpY2tlcjogXCIrdCl9LGUuZm4uZGF0ZXRpbWVwaWNrZXIuZGVmYXVsdHM9e3RpbWVab25lOlwiXCIsZm9ybWF0OiExLGRheVZpZXdIZWFkZXJGb3JtYXQ6XCJNTU1NIFlZWVlcIixleHRyYUZvcm1hdHM6ITEsc3RlcHBpbmc6MSxtaW5EYXRlOiExLG1heERhdGU6ITEsdXNlQ3VycmVudDohMCxjb2xsYXBzZTohMCxsb2NhbGU6dC5sb2NhbGUoKSxkZWZhdWx0RGF0ZTohMSxkaXNhYmxlZERhdGVzOiExLGVuYWJsZWREYXRlczohMSxpY29uczp7dGltZTpcImZhIGZhLWNsb2NrLW9cIixkYXRlOlwiZmEgZmEtY2FsZW5kYXJcIix1cDpcImZhIGZhLWNoZXZyb24tdXBcIixkb3duOlwiZmEgZmEtY2hldnJvbi1kb3duXCIscHJldmlvdXM6XCJmYSBmYS1jaGV2cm9uLWxlZnRcIixuZXh0OlwiZmEgZmEtY2hldnJvbi1yaWdodFwiLHRvZGF5OlwiZmEgZmEtY3Jvc3NoYWlyc1wiLGNsZWFyOlwiZmEgZmEtdHJhc2gtb1wiLGNsb3NlOlwiZmEgZmEtdGltZXNcIn0sdG9vbHRpcHM6e3RvZGF5OlwiR28gdG8gdG9kYXlcIixjbGVhcjpcIkNsZWFyIHNlbGVjdGlvblwiLGNsb3NlOlwiQ2xvc2UgdGhlIHBpY2tlclwiLHNlbGVjdE1vbnRoOlwiU2VsZWN0IE1vbnRoXCIscHJldk1vbnRoOlwiUHJldmlvdXMgTW9udGhcIixuZXh0TW9udGg6XCJOZXh0IE1vbnRoXCIsc2VsZWN0WWVhcjpcIlNlbGVjdCBZZWFyXCIscHJldlllYXI6XCJQcmV2aW91cyBZZWFyXCIsbmV4dFllYXI6XCJOZXh0IFllYXJcIixzZWxlY3REZWNhZGU6XCJTZWxlY3QgRGVjYWRlXCIscHJldkRlY2FkZTpcIlByZXZpb3VzIERlY2FkZVwiLG5leHREZWNhZGU6XCJOZXh0IERlY2FkZVwiLHByZXZDZW50dXJ5OlwiUHJldmlvdXMgQ2VudHVyeVwiLG5leHRDZW50dXJ5OlwiTmV4dCBDZW50dXJ5XCIscGlja0hvdXI6XCJQaWNrIEhvdXJcIixpbmNyZW1lbnRIb3VyOlwiSW5jcmVtZW50IEhvdXJcIixkZWNyZW1lbnRIb3VyOlwiRGVjcmVtZW50IEhvdXJcIixwaWNrTWludXRlOlwiUGljayBNaW51dGVcIixpbmNyZW1lbnRNaW51dGU6XCJJbmNyZW1lbnQgTWludXRlXCIsZGVjcmVtZW50TWludXRlOlwiRGVjcmVtZW50IE1pbnV0ZVwiLHBpY2tTZWNvbmQ6XCJQaWNrIFNlY29uZFwiLGluY3JlbWVudFNlY29uZDpcIkluY3JlbWVudCBTZWNvbmRcIixkZWNyZW1lbnRTZWNvbmQ6XCJEZWNyZW1lbnQgU2Vjb25kXCIsdG9nZ2xlUGVyaW9kOlwiVG9nZ2xlIFBlcmlvZFwiLHNlbGVjdFRpbWU6XCJTZWxlY3QgVGltZVwifSx1c2VTdHJpY3Q6ITEsc2lkZUJ5U2lkZTohMSxkYXlzT2ZXZWVrRGlzYWJsZWQ6ITEsY2FsZW5kYXJXZWVrczohMSx2aWV3TW9kZTpcImRheXNcIix0b29sYmFyUGxhY2VtZW50OlwiZGVmYXVsdFwiLHNob3dUb2RheUJ1dHRvbjohMSxzaG93Q2xlYXI6ITEsc2hvd0Nsb3NlOiExLHdpZGdldFBvc2l0aW9uaW5nOntob3Jpem9udGFsOlwiYXV0b1wiLHZlcnRpY2FsOlwiYXV0b1wifSx3aWRnZXRQYXJlbnQ6bnVsbCxpZ25vcmVSZWFkb25seTohMSxrZWVwT3BlbjohMSxmb2N1c09uU2hvdzohMCxpbmxpbmU6ITEsa2VlcEludmFsaWQ6ITEsZGF0ZXBpY2tlcklucHV0OlwiLmRhdGVwaWNrZXJpbnB1dFwiLGtleUJpbmRzOnt1cDpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD10aGlzLmRhdGUoKXx8dGhpcy5nZXRNb21lbnQoKTtlLmZpbmQoXCIuZGF0ZXBpY2tlclwiKS5pcyhcIjp2aXNpYmxlXCIpP3RoaXMuZGF0ZSh0LmNsb25lKCkuc3VidHJhY3QoNyxcImRcIikpOnRoaXMuZGF0ZSh0LmNsb25lKCkuYWRkKHRoaXMuc3RlcHBpbmcoKSxcIm1cIikpfX0sZG93bjpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD10aGlzLmRhdGUoKXx8dGhpcy5nZXRNb21lbnQoKTtlLmZpbmQoXCIuZGF0ZXBpY2tlclwiKS5pcyhcIjp2aXNpYmxlXCIpP3RoaXMuZGF0ZSh0LmNsb25lKCkuYWRkKDcsXCJkXCIpKTp0aGlzLmRhdGUodC5jbG9uZSgpLnN1YnRyYWN0KHRoaXMuc3RlcHBpbmcoKSxcIm1cIikpfWVsc2UgdGhpcy5zaG93KCl9LFwiY29udHJvbCB1cFwiOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMuZGF0ZSgpfHx0aGlzLmdldE1vbWVudCgpO2UuZmluZChcIi5kYXRlcGlja2VyXCIpLmlzKFwiOnZpc2libGVcIik/dGhpcy5kYXRlKHQuY2xvbmUoKS5zdWJ0cmFjdCgxLFwieVwiKSk6dGhpcy5kYXRlKHQuY2xvbmUoKS5hZGQoMSxcImhcIikpfX0sXCJjb250cm9sIGRvd25cIjpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD10aGlzLmRhdGUoKXx8dGhpcy5nZXRNb21lbnQoKTtlLmZpbmQoXCIuZGF0ZXBpY2tlclwiKS5pcyhcIjp2aXNpYmxlXCIpP3RoaXMuZGF0ZSh0LmNsb25lKCkuYWRkKDEsXCJ5XCIpKTp0aGlzLmRhdGUodC5jbG9uZSgpLnN1YnRyYWN0KDEsXCJoXCIpKX19LGxlZnQ6ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dGhpcy5kYXRlKCl8fHRoaXMuZ2V0TW9tZW50KCk7ZS5maW5kKFwiLmRhdGVwaWNrZXJcIikuaXMoXCI6dmlzaWJsZVwiKSYmdGhpcy5kYXRlKHQuY2xvbmUoKS5zdWJ0cmFjdCgxLFwiZFwiKSl9fSxyaWdodDpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD10aGlzLmRhdGUoKXx8dGhpcy5nZXRNb21lbnQoKTtlLmZpbmQoXCIuZGF0ZXBpY2tlclwiKS5pcyhcIjp2aXNpYmxlXCIpJiZ0aGlzLmRhdGUodC5jbG9uZSgpLmFkZCgxLFwiZFwiKSl9fSxwYWdlVXA6ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dGhpcy5kYXRlKCl8fHRoaXMuZ2V0TW9tZW50KCk7ZS5maW5kKFwiLmRhdGVwaWNrZXJcIikuaXMoXCI6dmlzaWJsZVwiKSYmdGhpcy5kYXRlKHQuY2xvbmUoKS5zdWJ0cmFjdCgxLFwiTVwiKSl9fSxwYWdlRG93bjpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD10aGlzLmRhdGUoKXx8dGhpcy5nZXRNb21lbnQoKTtlLmZpbmQoXCIuZGF0ZXBpY2tlclwiKS5pcyhcIjp2aXNpYmxlXCIpJiZ0aGlzLmRhdGUodC5jbG9uZSgpLmFkZCgxLFwiTVwiKSl9fSxlbnRlcjpmdW5jdGlvbigpe3RoaXMuaGlkZSgpfSxlc2NhcGU6ZnVuY3Rpb24oKXt0aGlzLmhpZGUoKX0sXCJjb250cm9sIHNwYWNlXCI6ZnVuY3Rpb24oZSl7ZSYmZS5maW5kKFwiLnRpbWVwaWNrZXJcIikuaXMoXCI6dmlzaWJsZVwiKSYmZS5maW5kKCcuYnRuW2RhdGEtYWN0aW9uPVwidG9nZ2xlUGVyaW9kXCJdJykuY2xpY2soKX0sdDpmdW5jdGlvbigpe3RoaXMuZGF0ZSh0aGlzLmdldE1vbWVudCgpKX0sZGVsZXRlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpfX0sZGVidWc6ITEsYWxsb3dJbnB1dFRvZ2dsZTohMSxkaXNhYmxlZFRpbWVJbnRlcnZhbHM6ITEsZGlzYWJsZWRIb3VyczohMSxlbmFibGVkSG91cnM6ITEsdmlld0RhdGU6ITF9LGUuZm4uZGF0ZXRpbWVwaWNrZXJ9KTsiXSwiZmlsZSI6ImJvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uanMifQ==